'use strict';

var mosaic = require('mosaic');
var jsCommon = require('js-common');
var te = require('long');
var F = require('protobufjs/minimal');
var crypto = require('crypto');
var code = require('protobuf-ts/protos/google/rpc/code');
var status = require('protobuf-ts/protos/google/rpc/status');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var te__default = /*#__PURE__*/_interopDefault(te);
var F__default = /*#__PURE__*/_interopDefault(F);

var Ve=Object.defineProperty;var Ze=(n,e)=>{for(var d in e)Ve(n,d,{get:e[d],enumerable:true});};var D={};Ze(D,{Auth:()=>bn,GoogleAuthError:()=>P,GoogleAuthErrors:()=>Q,checkin:()=>he,createAndroidId:()=>Gd});var Q=(l=>{l["CLIENT_LOGIN_DISABLED"]="ClientLoginDisabled";l["SOCKET_TIMEOUT"]="SocketTimeout";l["SUCCESS"]="Ok";l["UNKNOWN_ERROR"]="UNKNOWN_ERR";l["NETWORK_ERROR"]="NetworkError";l["SERVICE_UNAVAILABLE"]="ServiceUnavailable";l["INTERNAL_ERROR"]="InternalError";l["ILLEGAL_ARGUMENT"]="IllegalArgument";l["BAD_AUTHENTICATION"]="BadAuthentication";l["BAD_TOKEN_REQUEST"]="BAD_REQUEST";l["EMPTY_CONSUMER_PKG_OR_SIG"]="EmptyConsumerPackageOrSig";l["NEEDS_2F"]="InvalidSecondFactor";l["NEEDS_POST_SIGN_IN_FLOW"]="PostSignInFlowRequired";l["NEEDS_BROWSER"]="NeedsBrowser";l["UNKNOWN"]="Unknown";l["NOT_VERIFIED"]="NotVerified";l["TERMS_NOT_AGREED"]="TermsNotAgreed";l["ACCOUNT_DISABLED"]="AccountDisabled";l["CAPTCHA"]="CaptchaRequired";l["ACCOUNT_DELETED"]="AccountDeleted";l["SERVICE_DISABLED"]="ServiceDisabled";l["CHALLENGE_REQUIRED"]="ChallengeRequired";l["NEED_PERMISSION"]="NeedPermission";l["NEED_REMOTE_CONSENT"]="NeedRemoteConsent";l["INVALID_SCOPE"]="INVALID_SCOPE";l["USER_CANCEL"]="UserCancel";l["PERMISSION_DENIED"]="PermissionDenied";l["RESTRICTED_CLIENT"]="RESTRICTED_CLIENT";l["INVALID_AUDIENCE"]="INVALID_AUDIENCE";l["UNREGISTERED_ON_API_CONSOLE"]="UNREGISTERED_ON_API_CONSOLE";l["THIRD_PARTY_DEVICE_MANAGEMENT_REQUIRED"]="ThirdPartyDeviceManagementRequired";l["DM_INTERNAL_ERROR"]="DeviceManagementInternalError";l["DM_SYNC_DISABLED"]="DeviceManagementSyncDisabled";l["DM_ADMIN_BLOCKED"]="DeviceManagementAdminBlocked";l["DM_ADMIN_PENDING_APPROVAL"]="DeviceManagementAdminPendingApproval";l["DM_STALE_SYNC_REQUIRED"]="DeviceManagementStaleSyncRequired";l["DM_DEACTIVATED"]="DeviceManagementDeactivated";l["DM_SCREENLOCK_REQUIRED"]="DeviceManagementScreenlockRequired";l["DM_REQUIRED"]="DeviceManagementRequired";l["DEVICE_MANAGEMENT_REQUIRED"]="DeviceManagementRequiredOrSyncDisabled";l["ALREADY_HAS_GMAIL"]="ALREADY_HAS_GMAIL";l["BAD_PASSWORD"]="WeakPassword";l["BAD_REQUEST"]="BadRequest";l["BAD_USERNAME"]="BadUsername";l["DELETED_GMAIL"]="DeletedGmail";l["EXISTING_USERNAME"]="ExistingUsername";l["LOGIN_FAIL"]="LoginFail";l["NOT_LOGGED_IN"]="NotLoggedIn";l["NO_GMAIL"]="NoGmail";l["REQUEST_DENIED"]="RequestDenied";l["SERVER_ERROR"]="ServerError";l["USERNAME_UNAVAILABLE"]="UsernameUnavailable";l["GPLUS_OTHER"]="GPlusOther";l["GPLUS_NICKNAME"]="GPlusNickname";l["GPLUS_INVALID_CHAR"]="GPlusInvalidChar";l["GPLUS_INTERSTITIAL"]="GPlusInterstitial";l["GPLUS_PROFILE_ERROR"]="ProfileUpgradeError";l["AUTH_SECURITY_ERROR"]="AuthSecurityError";l["AUTH_BINDING_ERROR"]="AuthBindingError";return l})(Q||{});var P=class n extends mosaic.OAuthError{static from(e){switch(e){case"BadRequest":case"BAD_REQUEST":case"IllegalArgument":return new jsCommon.InvalidArgumentError;case"BadAuthentication":return new mosaic.InvalidCredentialsError;case"RESTRICTED_CLIENT":return new mosaic.UnauthorizedClientError;case"UNREGISTERED_ON_API_CONSOLE":return new mosaic.UnrecognizedIDClientError;case"INVALID_SCOPE":return new mosaic.InvalidScopeError;case"PermissionDenied":return new jsCommon.PermissionDeniedError;case"ServerError":return new jsCommon.ServerError;case"InternalError":return new jsCommon.InternalServerError;case"ServiceUnavailable":return new jsCommon.UnavailableError;case"UserCancel":return new mosaic.UserDeniedError}for(let[d,u]of jsCommon.KV.entries(Q)){if(e!=u)continue;e=d;break}return new n(e)}};var z=class extends mosaic.Client{async request(e,d){if(d?.credentials)throw new jsCommon.InvalidArgumentError("Credentials not supported for this client");e.body=jsCommon.URLParams.toString(e.body);let u=await e.execute();let i=u.headers.get(jsCommon.HttpHeader.CONTENT_TYPE);if(!i||!jsCommon.Mime.typeEquals(i,jsCommon.HttpContentType.TEXT)){if(!u.ok)throw mosaic.HttpClients.makeError(u);throw new jsCommon.ApiError(`Expected content type '${jsCommon.HttpContentType.TEXT}' but got '${i}'`)}let r=u.body.toString().split("\n");let o=new Map;for(let t of r){let a=t.indexOf("="),U,xn;if(a==-1)throw new jsCommon.ParseError(`Expected '='`);U=t.substring(0,a);xn=t.substring(a+1);o.set(U,xn);}if(o.has("Error")){let t=o.get("Error");if(t!="Ok")throw P.from(t)}if(!u.ok)throw mosaic.HttpClients.makeError(u);u.body=o;return u}};var md=z;var Gn=[{"name":"Google Auth","id":"google.android.auth","implementation":md}];var Jn={request:jsCommon.HttpContentType.URLFORM,response:jsCommon.HttpContentType.TEXT,encode:n=>n,decode:n=>n};var sd=Jn;var Wn=[{"name":"Google Auth Transport","id":"googleauth","implementation":sd}];function fn(n){switch(n){case 0:case"NO_RESTRICTION":return "NO_RESTRICTION";case 1:case"SW_DEVICE":return "SW_DEVICE";case 2:case"LATCHSKY_DEVICE":return "LATCHSKY_DEVICE";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function Vn(n){switch(n){case"NO_RESTRICTION":return "NO_RESTRICTION";case"SW_DEVICE":return "SW_DEVICE";case"LATCHSKY_DEVICE":return "LATCHSKY_DEVICE";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function Zn(n){switch(n){case"NO_RESTRICTION":return 0;case"SW_DEVICE":return 1;case"LATCHSKY_DEVICE":return 2;case"UNRECOGNIZED":default:return -1}}function Ud(){return {}}var B={encode(n,e=F__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!==""){e.uint32(10).string(n.unnamedField1);}if(n.unnamedField2!==void 0&&n.unnamedField2!==""){e.uint32(18).string(n.unnamedField2);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=Ud();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.unnamedField1=d.string();continue;case 2:if(r!==18){break}i.unnamedField2=d.string();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {unnamedField1:Kn(n.unnamedField1)?String(n.unnamedField1):void 0,unnamedField2:Kn(n.unnamedField2)?String(n.unnamedField2):void 0}},toJSON(n){const e={};if(n.unnamedField1!==void 0&&n.unnamedField1!==""){e.unnamedField1=n.unnamedField1;}if(n.unnamedField2!==void 0&&n.unnamedField2!==""){e.unnamedField2=n.unnamedField2;}return e}};function Kn(n){return n!==null&&n!==void 0}function Ed(){return {}}var w={encode(n,e=F__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!==""){e.uint32(10).string(n.unnamedField1);}if(n.unnamedField2!==void 0&&n.unnamedField2.length!==0){e.uint32(18).bytes(n.unnamedField2);}if(n.unnamedField5!==void 0&&n.unnamedField5.length!==0){e.uint32(42).bytes(n.unnamedField5);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=Ed();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.unnamedField1=d.string();continue;case 2:if(r!==18){break}i.unnamedField2=d.bytes();continue;case 5:if(r!==42){break}i.unnamedField5=d.bytes();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {unnamedField1:_n(n.unnamedField1)?String(n.unnamedField1):void 0,unnamedField2:_n(n.unnamedField2)?Buffer.from(Yn(n.unnamedField2)):void 0,unnamedField5:_n(n.unnamedField5)?Buffer.from(Yn(n.unnamedField5)):void 0}},toJSON(n){const e={};if(n.unnamedField1!==void 0&&n.unnamedField1!==""){e.unnamedField1=n.unnamedField1;}if(n.unnamedField2!==void 0&&n.unnamedField2.length!==0){e.unnamedField2=Xn(n.unnamedField2);}if(n.unnamedField5!==void 0&&n.unnamedField5.length!==0){e.unnamedField5=Xn(n.unnamedField5);}return e}};var v=(()=>{if(typeof globalThis!=="undefined"){return globalThis}if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw "Unable to locate global object"})();function Yn(n){if(v.Buffer){return Uint8Array.from(v.Buffer.from(n,"base64"))}else {const e=v.atob(n);const d=new Uint8Array(e.length);for(let u=0;u<e.length;++u){d[u]=e.charCodeAt(u);}return d}}function Xn(n){if(v.Buffer){return v.Buffer.from(n).toString("base64")}else {const e=[];n.forEach(d=>{e.push(String.fromCharCode(d));});return v.btoa(e.join(""))}}function _n(n){return n!==null&&n!==void 0}function sn(n){switch(n){case 0:case"Unnamed10361_value_0":return "Unnamed10361_value_0";case 1:case"Unnamed10361_value_1":return "Unnamed10361_value_1";case 2:case"Unnamed10361_value_2":return "Unnamed10361_value_2";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function qn(n){switch(n){case"Unnamed10361_value_0":return "Unnamed10361_value_0";case"Unnamed10361_value_1":return "Unnamed10361_value_1";case"Unnamed10361_value_2":return "Unnamed10361_value_2";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function $n(n){switch(n){case"Unnamed10361_value_0":return 0;case"Unnamed10361_value_1":return 1;case"Unnamed10361_value_2":return 2;case"UNRECOGNIZED":default:return -1}}function Un(n){switch(n){case 0:case"Unnamed10362_value_0":return "Unnamed10362_value_0";case 1:case"Unnamed10362_value_1":return "Unnamed10362_value_1";case 2:case"Unnamed10362_value_2":return "Unnamed10362_value_2";case 3:case"Unnamed10362_value_3":return "Unnamed10362_value_3";case 4:case"Unnamed10362_value_4":return "Unnamed10362_value_4";case 5:case"Unnamed10362_value_5":return "Unnamed10362_value_5";case 6:case"Unnamed10362_value_6":return "Unnamed10362_value_6";case 7:case"Unnamed10362_value_7":return "Unnamed10362_value_7";case 8:case"Unnamed10362_value_8":return "Unnamed10362_value_8";case 9:case"Unnamed10362_value_9":return "Unnamed10362_value_9";case 10:case"Unnamed10362_value_10":return "Unnamed10362_value_10";case 11:case"Unnamed10362_value_11":return "Unnamed10362_value_11";case 12:case"Unnamed10362_value_12":return "Unnamed10362_value_12";case 13:case"Unnamed10362_value_13":return "Unnamed10362_value_13";case 14:case"Unnamed10362_value_14":return "Unnamed10362_value_14";case 15:case"Unnamed10362_value_15":return "Unnamed10362_value_15";case 16:case"Unnamed10362_value_16":return "Unnamed10362_value_16";case 17:case"Unnamed10362_value_17":return "Unnamed10362_value_17";case 18:case"Unnamed10362_value_18":return "Unnamed10362_value_18";case 19:case"Unnamed10362_value_19":return "Unnamed10362_value_19";case 20:case"Unnamed10362_value_20":return "Unnamed10362_value_20";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function Qn(n){switch(n){case"Unnamed10362_value_0":return "Unnamed10362_value_0";case"Unnamed10362_value_1":return "Unnamed10362_value_1";case"Unnamed10362_value_2":return "Unnamed10362_value_2";case"Unnamed10362_value_3":return "Unnamed10362_value_3";case"Unnamed10362_value_4":return "Unnamed10362_value_4";case"Unnamed10362_value_5":return "Unnamed10362_value_5";case"Unnamed10362_value_6":return "Unnamed10362_value_6";case"Unnamed10362_value_7":return "Unnamed10362_value_7";case"Unnamed10362_value_8":return "Unnamed10362_value_8";case"Unnamed10362_value_9":return "Unnamed10362_value_9";case"Unnamed10362_value_10":return "Unnamed10362_value_10";case"Unnamed10362_value_11":return "Unnamed10362_value_11";case"Unnamed10362_value_12":return "Unnamed10362_value_12";case"Unnamed10362_value_13":return "Unnamed10362_value_13";case"Unnamed10362_value_14":return "Unnamed10362_value_14";case"Unnamed10362_value_15":return "Unnamed10362_value_15";case"Unnamed10362_value_16":return "Unnamed10362_value_16";case"Unnamed10362_value_17":return "Unnamed10362_value_17";case"Unnamed10362_value_18":return "Unnamed10362_value_18";case"Unnamed10362_value_19":return "Unnamed10362_value_19";case"Unnamed10362_value_20":return "Unnamed10362_value_20";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function zn(n){switch(n){case"Unnamed10362_value_0":return 0;case"Unnamed10362_value_1":return 1;case"Unnamed10362_value_2":return 2;case"Unnamed10362_value_3":return 3;case"Unnamed10362_value_4":return 4;case"Unnamed10362_value_5":return 5;case"Unnamed10362_value_6":return 6;case"Unnamed10362_value_7":return 7;case"Unnamed10362_value_8":return 8;case"Unnamed10362_value_9":return 9;case"Unnamed10362_value_10":return 10;case"Unnamed10362_value_11":return 11;case"Unnamed10362_value_12":return 12;case"Unnamed10362_value_13":return 13;case"Unnamed10362_value_14":return 14;case"Unnamed10362_value_15":return 15;case"Unnamed10362_value_16":return 16;case"Unnamed10362_value_17":return 17;case"Unnamed10362_value_18":return 18;case"Unnamed10362_value_19":return 19;case"Unnamed10362_value_20":return 20;case"UNRECOGNIZED":default:return -1}}function Fd(){return {}}var g={encode(n,e=F__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!=="Unnamed10362_value_0"){e.uint32(8).int32(zn(n.unnamedField1));}if(n.unnamedField2!==void 0&&n.unnamedField2!==0){e.uint32(16).int32(n.unnamedField2);}if(n.unnamedField3!==void 0&&n.unnamedField3!==""){e.uint32(26).string(n.unnamedField3);}if(n.unnamedField4!==void 0&&n.unnamedField4!==""){e.uint32(34).string(n.unnamedField4);}if(n.unnamedField5===true){e.uint32(40).bool(n.unnamedField5);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=Fd();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==8){break}i.unnamedField1=Un(d.int32());continue;case 2:if(r!==16){break}i.unnamedField2=d.int32();continue;case 3:if(r!==26){break}i.unnamedField3=d.string();continue;case 4:if(r!==34){break}i.unnamedField4=d.string();continue;case 5:if(r!==40){break}i.unnamedField5=d.bool();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {unnamedField1:x(n.unnamedField1)?Un(n.unnamedField1):void 0,unnamedField2:x(n.unnamedField2)?Number(n.unnamedField2):void 0,unnamedField3:x(n.unnamedField3)?String(n.unnamedField3):void 0,unnamedField4:x(n.unnamedField4)?String(n.unnamedField4):void 0,unnamedField5:x(n.unnamedField5)?Boolean(n.unnamedField5):void 0}},toJSON(n){const e={};if(n.unnamedField1!==void 0&&n.unnamedField1!=="Unnamed10362_value_0"){e.unnamedField1=Qn(n.unnamedField1);}if(n.unnamedField2!==void 0&&n.unnamedField2!==0){e.unnamedField2=Math.round(n.unnamedField2);}if(n.unnamedField3!==void 0&&n.unnamedField3!==""){e.unnamedField3=n.unnamedField3;}if(n.unnamedField4!==void 0&&n.unnamedField4!==""){e.unnamedField4=n.unnamedField4;}if(n.unnamedField5===true){e.unnamedField5=n.unnamedField5;}return e}};function x(n){return n!==null&&n!==void 0}function Fn(n){switch(n){case 1:case"OTHER":return "OTHER";case 2:case"PHONE":return "PHONE";case 3:case"TABLET":return "TABLET";case 4:case"TV":return "TV";case 5:case"GLASS":return "GLASS";case 6:case"CAR":return "CAR";case 7:case"WEARABLE":return "WEARABLE";case 8:case"THINGS":return "THINGS";case 9:case"CHROMEOS_ARC":return "CHROMEOS_ARC";case 10:case"BSTAR":return "BSTAR";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function jn(n){switch(n){case"OTHER":return "OTHER";case"PHONE":return "PHONE";case"TABLET":return "TABLET";case"TV":return "TV";case"GLASS":return "GLASS";case"CAR":return "CAR";case"WEARABLE":return "WEARABLE";case"THINGS":return "THINGS";case"CHROMEOS_ARC":return "CHROMEOS_ARC";case"BSTAR":return "BSTAR";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function ne(n){switch(n){case"OTHER":return 1;case"PHONE":return 2;case"TABLET":return 3;case"TV":return 4;case"GLASS":return 5;case"CAR":return 6;case"WEARABLE":return 7;case"THINGS":return 8;case"CHROMEOS_ARC":return 9;case"BSTAR":return 10;case"UNRECOGNIZED":default:return -1}}function j(n){switch(n){case 0:case"Unnamed10363_value_0":return "Unnamed10363_value_0";case 1:case"Unnamed10363_value_1":return "Unnamed10363_value_1";case 2:case"Unnamed10363_value_2":return "Unnamed10363_value_2";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function ee(n){switch(n){case"Unnamed10363_value_0":return "Unnamed10363_value_0";case"Unnamed10363_value_1":return "Unnamed10363_value_1";case"Unnamed10363_value_2":return "Unnamed10363_value_2";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function de(n){switch(n){case"Unnamed10363_value_0":return 0;case"Unnamed10363_value_1":return 1;case"Unnamed10363_value_2":return 2;case"UNRECOGNIZED":default:return -1}}function pd(){return {}}var M={encode(n,e=F__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!==""){e.uint32(10).string(n.unnamedField1);}if(n.unnamedField2!==void 0&&n.unnamedField2!==""){e.uint32(18).string(n.unnamedField2);}if(n.unnamedField3!==void 0&&n.unnamedField3!==""){e.uint32(26).string(n.unnamedField3);}if(n.unnamedField4!==void 0&&n.unnamedField4.length!==0){e.uint32(34).fork();for(const d of n.unnamedField4){e.int32(de(d));}e.ldelim();}if(n.unnamedField6!==void 0&&n.unnamedField6!==""){e.uint32(50).string(n.unnamedField6);}if(n.unnamedField7!==void 0&&n.unnamedField7!==""){e.uint32(58).string(n.unnamedField7);}if(n.unnamedField8!==void 0&&n.unnamedField8.length!==0){e.uint32(66).bytes(n.unnamedField8);}if(n.unnamedField9!==void 0&&n.unnamedField9!==0){e.uint32(72).int32(n.unnamedField9);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=pd();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.unnamedField1=d.string();continue;case 2:if(r!==18){break}i.unnamedField2=d.string();continue;case 3:if(r!==26){break}i.unnamedField3=d.string();continue;case 4:if(r===32){if(i.unnamedField4===void 0){i.unnamedField4=[];}i.unnamedField4.push(j(d.int32()));continue}if(r===34){if(i.unnamedField4===void 0){i.unnamedField4=[];}const U=d.uint32()+d.pos;while(d.pos<U){i.unnamedField4.push(j(d.int32()));}continue}break;case 6:if(r!==50){break}i.unnamedField6=d.string();continue;case 7:if(r!==58){break}i.unnamedField7=d.string();continue;case 8:if(r!==66){break}i.unnamedField8=d.bytes();continue;case 9:if(r!==72){break}i.unnamedField9=d.int32();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {unnamedField1:p(n.unnamedField1)?String(n.unnamedField1):void 0,unnamedField2:p(n.unnamedField2)?String(n.unnamedField2):void 0,unnamedField3:p(n.unnamedField3)?String(n.unnamedField3):void 0,unnamedField4:Array.isArray(n?.unnamedField4)?n.unnamedField4.map(e=>j(e)):void 0,unnamedField6:p(n.unnamedField6)?String(n.unnamedField6):void 0,unnamedField7:p(n.unnamedField7)?String(n.unnamedField7):void 0,unnamedField8:p(n.unnamedField8)?Buffer.from(Nd(n.unnamedField8)):void 0,unnamedField9:p(n.unnamedField9)?Number(n.unnamedField9):void 0}},toJSON(n){const e={};if(n.unnamedField1!==void 0&&n.unnamedField1!==""){e.unnamedField1=n.unnamedField1;}if(n.unnamedField2!==void 0&&n.unnamedField2!==""){e.unnamedField2=n.unnamedField2;}if(n.unnamedField3!==void 0&&n.unnamedField3!==""){e.unnamedField3=n.unnamedField3;}if(n.unnamedField4?.length){e.unnamedField4=n.unnamedField4.map(d=>ee(d));}if(n.unnamedField6!==void 0&&n.unnamedField6!==""){e.unnamedField6=n.unnamedField6;}if(n.unnamedField7!==void 0&&n.unnamedField7!==""){e.unnamedField7=n.unnamedField7;}if(n.unnamedField8!==void 0&&n.unnamedField8.length!==0){e.unnamedField8=vd(n.unnamedField8);}if(n.unnamedField9!==void 0&&n.unnamedField9!==0){e.unnamedField9=Math.round(n.unnamedField9);}return e}};var I=(()=>{if(typeof globalThis!=="undefined"){return globalThis}if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw "Unable to locate global object"})();function Nd(n){if(I.Buffer){return Uint8Array.from(I.Buffer.from(n,"base64"))}else {const e=I.atob(n);const d=new Uint8Array(e.length);for(let u=0;u<e.length;++u){d[u]=e.charCodeAt(u);}return d}}function vd(n){if(I.Buffer){return I.Buffer.from(n).toString("base64")}else {const e=[];n.forEach(d=>{e.push(String.fromCharCode(d));});return I.btoa(e.join(""))}}function p(n){return n!==null&&n!==void 0}function Id(){return {}}var G={encode(n,e=F__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!==""){e.uint32(10).string(n.unnamedField1);}if(n.unnamedField2!==void 0&&n.unnamedField2!==""){e.uint32(18).string(n.unnamedField2);}if(n.unnamedField3!==void 0&&n.unnamedField3!==""){e.uint32(26).string(n.unnamedField3);}if(n.unnamedField4!==void 0&&n.unnamedField4!==""){e.uint32(34).string(n.unnamedField4);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=Id();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.unnamedField1=d.string();continue;case 2:if(r!==18){break}i.unnamedField2=d.string();continue;case 3:if(r!==26){break}i.unnamedField3=d.string();continue;case 4:if(r!==34){break}i.unnamedField4=d.string();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {unnamedField1:nn(n.unnamedField1)?String(n.unnamedField1):void 0,unnamedField2:nn(n.unnamedField2)?String(n.unnamedField2):void 0,unnamedField3:nn(n.unnamedField3)?String(n.unnamedField3):void 0,unnamedField4:nn(n.unnamedField4)?String(n.unnamedField4):void 0}},toJSON(n){const e={};if(n.unnamedField1!==void 0&&n.unnamedField1!==""){e.unnamedField1=n.unnamedField1;}if(n.unnamedField2!==void 0&&n.unnamedField2!==""){e.unnamedField2=n.unnamedField2;}if(n.unnamedField3!==void 0&&n.unnamedField3!==""){e.unnamedField3=n.unnamedField3;}if(n.unnamedField4!==void 0&&n.unnamedField4!==""){e.unnamedField4=n.unnamedField4;}return e}};function nn(n){return n!==null&&n!==void 0}function vn(n){switch(n){case 1:case"BASE_CLIENT_ID":return "BASE_CLIENT_ID";case 2:case"SEARCH_CLIENT_ID":return "SEARCH_CLIENT_ID";case 3:case"VOICESEARCH_CLIENT_ID":return "VOICESEARCH_CLIENT_ID";case 4:case"MAPS_CLIENT_ID":return "MAPS_CLIENT_ID";case 5:case"YOUTUBE_CLIENT_ID":return "YOUTUBE_CLIENT_ID";case 6:case"MARKET_CLIENT_ID":return "MARKET_CLIENT_ID";case 7:case"SHOPPER_CLIENT_ID":return "SHOPPER_CLIENT_ID";case 8:case"WALLET_CLIENT_ID":return "WALLET_CLIENT_ID";case 9:case"CHROME_CLIENT_ID":return "CHROME_CLIENT_ID";case 10:case"PLAYTX_CLIENT_ID":return "PLAYTX_CLIENT_ID";case 11:case"PLAYAX_CLIENT_ID":return "PLAYAX_CLIENT_ID";case 12:case"PROGRAM_CLIENT_ID":return "PROGRAM_CLIENT_ID";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function ie(n){switch(n){case"BASE_CLIENT_ID":return "BASE_CLIENT_ID";case"SEARCH_CLIENT_ID":return "SEARCH_CLIENT_ID";case"VOICESEARCH_CLIENT_ID":return "VOICESEARCH_CLIENT_ID";case"MAPS_CLIENT_ID":return "MAPS_CLIENT_ID";case"YOUTUBE_CLIENT_ID":return "YOUTUBE_CLIENT_ID";case"MARKET_CLIENT_ID":return "MARKET_CLIENT_ID";case"SHOPPER_CLIENT_ID":return "SHOPPER_CLIENT_ID";case"WALLET_CLIENT_ID":return "WALLET_CLIENT_ID";case"CHROME_CLIENT_ID":return "CHROME_CLIENT_ID";case"PLAYTX_CLIENT_ID":return "PLAYTX_CLIENT_ID";case"PLAYAX_CLIENT_ID":return "PLAYAX_CLIENT_ID";case"PROGRAM_CLIENT_ID":return "PROGRAM_CLIENT_ID";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function re(n){switch(n){case"BASE_CLIENT_ID":return 1;case"SEARCH_CLIENT_ID":return 2;case"VOICESEARCH_CLIENT_ID":return 3;case"MAPS_CLIENT_ID":return 4;case"YOUTUBE_CLIENT_ID":return 5;case"MARKET_CLIENT_ID":return 6;case"SHOPPER_CLIENT_ID":return 7;case"WALLET_CLIENT_ID":return 8;case"CHROME_CLIENT_ID":return 9;case"PLAYTX_CLIENT_ID":return 10;case"PLAYAX_CLIENT_ID":return 11;case"PROGRAM_CLIENT_ID":return 12;case"UNRECOGNIZED":default:return -1}}function Ad(){return {}}var H={encode(n,e=F__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!=="BASE_CLIENT_ID"){e.uint32(8).int32(re(n.unnamedField1));}if(n.unnamedField2!==void 0&&n.unnamedField2!==""){e.uint32(18).string(n.unnamedField2);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=Ad();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==8){break}i.unnamedField1=vn(d.int32());continue;case 2:if(r!==18){break}i.unnamedField2=d.string();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {unnamedField1:ue(n.unnamedField1)?vn(n.unnamedField1):void 0,unnamedField2:ue(n.unnamedField2)?String(n.unnamedField2):void 0}},toJSON(n){const e={};if(n.unnamedField1!==void 0&&n.unnamedField1!=="BASE_CLIENT_ID"){e.unnamedField1=ie(n.unnamedField1);}if(n.unnamedField2!==void 0&&n.unnamedField2!==""){e.unnamedField2=n.unnamedField2;}return e}};function ue(n){return n!==null&&n!==void 0}function yd(){return {}}var J={encode(n,e=F__default.default.Writer.create()){if(n.id!==void 0&&n.id!==""){e.uint32(10).string(n.id);}if(n.product!==void 0&&n.product!==""){e.uint32(18).string(n.product);}if(n.carrier!==void 0&&n.carrier!==""){e.uint32(26).string(n.carrier);}if(n.radio!==void 0&&n.radio!==""){e.uint32(34).string(n.radio);}if(n.bootloader!==void 0&&n.bootloader!==""){e.uint32(42).string(n.bootloader);}if(n.client!==void 0&&n.client!==""){e.uint32(50).string(n.client);}if(n.timestamp!==void 0&&n.timestamp!==BigInt("0")){e.uint32(56).int64(n.timestamp.toString());}if(n.googleServices!==void 0&&n.googleServices!==0){e.uint32(64).int32(n.googleServices);}if(n.device!==void 0&&n.device!==""){e.uint32(74).string(n.device);}if(n.sdkVersion!==void 0&&n.sdkVersion!==0){e.uint32(80).int32(n.sdkVersion);}if(n.model!==void 0&&n.model!==""){e.uint32(90).string(n.model);}if(n.manufacturer!==void 0&&n.manufacturer!==""){e.uint32(98).string(n.manufacturer);}if(n.buildProduct!==void 0&&n.buildProduct!==""){e.uint32(106).string(n.buildProduct);}if(n.otaInstalled===true){e.uint32(112).bool(n.otaInstalled);}if(n.unnamedField15!==void 0&&n.unnamedField15.length!==0){for(const d of n.unnamedField15){H.encode(d,e.uint32(122).fork()).ldelim();}}if(n.unnamedField19!==void 0&&n.unnamedField19!==""){e.uint32(154).string(n.unnamedField19);}if(n.unnamedField23!==void 0&&n.unnamedField23.length!==0){for(const d of n.unnamedField23){G.encode(d,e.uint32(186).fork()).ldelim();}}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=yd();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.id=d.string();continue;case 2:if(r!==18){break}i.product=d.string();continue;case 3:if(r!==26){break}i.carrier=d.string();continue;case 4:if(r!==34){break}i.radio=d.string();continue;case 5:if(r!==42){break}i.bootloader=d.string();continue;case 6:if(r!==50){break}i.client=d.string();continue;case 7:if(r!==56){break}i.timestamp=Sd(d.int64());continue;case 8:if(r!==64){break}i.googleServices=d.int32();continue;case 9:if(r!==74){break}i.device=d.string();continue;case 10:if(r!==80){break}i.sdkVersion=d.int32();continue;case 11:if(r!==90){break}i.model=d.string();continue;case 12:if(r!==98){break}i.manufacturer=d.string();continue;case 13:if(r!==106){break}i.buildProduct=d.string();continue;case 14:if(r!==112){break}i.otaInstalled=d.bool();continue;case 15:if(r!==122){break}if(i.unnamedField15===void 0){i.unnamedField15=[];}i.unnamedField15.push(H.decode(d,d.uint32()));continue;case 19:if(r!==154){break}i.unnamedField19=d.string();continue;case 23:if(r!==186){break}if(i.unnamedField23===void 0){i.unnamedField23=[];}i.unnamedField23.push(G.decode(d,d.uint32()));continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {id:m(n.id)?String(n.id):void 0,product:m(n.product)?String(n.product):void 0,carrier:m(n.carrier)?String(n.carrier):void 0,radio:m(n.radio)?String(n.radio):void 0,bootloader:m(n.bootloader)?String(n.bootloader):void 0,client:m(n.client)?String(n.client):void 0,timestamp:m(n.timestamp)?BigInt(n.timestamp):void 0,googleServices:m(n.google_services)?Number(n.google_services):void 0,device:m(n.device)?String(n.device):void 0,sdkVersion:m(n.sdk_version)?Number(n.sdk_version):void 0,model:m(n.model)?String(n.model):void 0,manufacturer:m(n.manufacturer)?String(n.manufacturer):void 0,buildProduct:m(n.build_product)?String(n.build_product):void 0,otaInstalled:m(n.ota_installed)?Boolean(n.ota_installed):void 0,unnamedField15:Array.isArray(n?.unnamedField15)?n.unnamedField15.map(e=>H.fromJSON(e)):void 0,unnamedField19:m(n.unnamedField19)?String(n.unnamedField19):void 0,unnamedField23:Array.isArray(n?.unnamedField23)?n.unnamedField23.map(e=>G.fromJSON(e)):void 0}},toJSON(n){const e={};if(n.id!==void 0&&n.id!==""){e.id=n.id;}if(n.product!==void 0&&n.product!==""){e.product=n.product;}if(n.carrier!==void 0&&n.carrier!==""){e.carrier=n.carrier;}if(n.radio!==void 0&&n.radio!==""){e.radio=n.radio;}if(n.bootloader!==void 0&&n.bootloader!==""){e.bootloader=n.bootloader;}if(n.client!==void 0&&n.client!==""){e.client=n.client;}if(n.timestamp!==void 0&&n.timestamp!==BigInt("0")){e.timestamp=n.timestamp.toString();}if(n.googleServices!==void 0&&n.googleServices!==0){e.google_services=Math.round(n.googleServices);}if(n.device!==void 0&&n.device!==""){e.device=n.device;}if(n.sdkVersion!==void 0&&n.sdkVersion!==0){e.sdk_version=Math.round(n.sdkVersion);}if(n.model!==void 0&&n.model!==""){e.model=n.model;}if(n.manufacturer!==void 0&&n.manufacturer!==""){e.manufacturer=n.manufacturer;}if(n.buildProduct!==void 0&&n.buildProduct!==""){e.build_product=n.buildProduct;}if(n.otaInstalled===true){e.ota_installed=n.otaInstalled;}if(n.unnamedField15?.length){e.unnamedField15=n.unnamedField15.map(d=>H.toJSON(d));}if(n.unnamedField19!==void 0&&n.unnamedField19!==""){e.unnamedField19=n.unnamedField19;}if(n.unnamedField23?.length){e.unnamedField23=n.unnamedField23.map(d=>G.toJSON(d));}return e}};function Sd(n){return BigInt(n.toString())}if(F__default.default.util.Long!==te__default.default){F__default.default.util.Long=te__default.default;F__default.default.configure();}function m(n){return n!==null&&n!==void 0}function kd(){return {}}var W={encode(n,e=F__default.default.Writer.create()){if(n.tag!==void 0&&n.tag!==""){e.uint32(10).string(n.tag);}if(n.value!==void 0&&n.value!==""){e.uint32(18).string(n.value);}if(n.timeMsec!==void 0&&n.timeMsec!==BigInt("0")){e.uint32(24).int64(n.timeMsec.toString());}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=kd();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.tag=d.string();continue;case 2:if(r!==18){break}i.value=d.string();continue;case 3:if(r!==24){break}i.timeMsec=Cd(d.int64());continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {tag:An(n.tag)?String(n.tag):void 0,value:An(n.value)?String(n.value):void 0,timeMsec:An(n.time_msec)?BigInt(n.time_msec):void 0}},toJSON(n){const e={};if(n.tag!==void 0&&n.tag!==""){e.tag=n.tag;}if(n.value!==void 0&&n.value!==""){e.value=n.value;}if(n.timeMsec!==void 0&&n.timeMsec!==BigInt("0")){e.time_msec=n.timeMsec.toString();}return e}};function Cd(n){return BigInt(n.toString())}if(F__default.default.util.Long!==te__default.default){F__default.default.util.Long=te__default.default;F__default.default.configure();}function An(n){return n!==null&&n!==void 0}function hd(){return {}}var V={encode(n,e=F__default.default.Writer.create()){if(n.build!==void 0){J.encode(n.build,e.uint32(10).fork()).ldelim();}if(n.lastCheckinMsec!==void 0&&n.lastCheckinMsec!==BigInt("0")){e.uint32(16).int64(n.lastCheckinMsec.toString());}if(n.event!==void 0&&n.event.length!==0){for(const d of n.event){W.encode(d,e.uint32(26).fork()).ldelim();}}if(n.requestedGroup!==void 0&&n.requestedGroup.length!==0){for(const d of n.requestedGroup){e.uint32(42).string(d);}}if(n.cellOperator!==void 0&&n.cellOperator!==""){e.uint32(50).string(n.cellOperator);}if(n.simOperator!==void 0&&n.simOperator!==""){e.uint32(58).string(n.simOperator);}if(n.roaming!==void 0&&n.roaming!==""){e.uint32(66).string(n.roaming);}if(n.userNumber!==void 0&&n.userNumber!==0){e.uint32(72).int32(n.userNumber);}if(n.unnamedField14!==void 0&&n.unnamedField14!=="OTHER"){e.uint32(112).int32(ne(n.unnamedField14));}if(n.unnamedField15!==void 0){g.encode(n.unnamedField15,e.uint32(122).fork()).ldelim();}if(n.unnamedField16!==void 0&&n.unnamedField16.length!==0){for(const d of n.unnamedField16){M.encode(d,e.uint32(130).fork()).ldelim();}}if(n.unnamedField18===true){e.uint32(144).bool(n.unnamedField18);}if(n.unnamedField19!==void 0&&n.unnamedField19!==""){e.uint32(154).string(n.unnamedField19);}if(n.unnamedField20!==void 0&&n.unnamedField20!=="Unnamed10361_value_0"){e.uint32(160).int32($n(n.unnamedField20));}if(n.unnamedField21!==void 0&&n.unnamedField21!==0){e.uint32(168).int32(n.unnamedField21);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=hd();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.build=J.decode(d,d.uint32());continue;case 2:if(r!==16){break}i.lastCheckinMsec=Td(d.int64());continue;case 3:if(r!==26){break}if(i.event===void 0){i.event=[];}i.event.push(W.decode(d,d.uint32()));continue;case 5:if(r!==42){break}if(i.requestedGroup===void 0){i.requestedGroup=[];}i.requestedGroup.push(d.string());continue;case 6:if(r!==50){break}i.cellOperator=d.string();continue;case 7:if(r!==58){break}i.simOperator=d.string();continue;case 8:if(r!==66){break}i.roaming=d.string();continue;case 9:if(r!==72){break}i.userNumber=d.int32();continue;case 14:if(r!==112){break}i.unnamedField14=Fn(d.int32());continue;case 15:if(r!==122){break}i.unnamedField15=g.decode(d,d.uint32());continue;case 16:if(r!==130){break}if(i.unnamedField16===void 0){i.unnamedField16=[];}i.unnamedField16.push(M.decode(d,d.uint32()));continue;case 18:if(r!==144){break}i.unnamedField18=d.bool();continue;case 19:if(r!==154){break}i.unnamedField19=d.string();continue;case 20:if(r!==160){break}i.unnamedField20=sn(d.int32());continue;case 21:if(r!==168){break}i.unnamedField21=d.int32();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {build:s(n.build)?J.fromJSON(n.build):void 0,lastCheckinMsec:s(n.last_checkin_msec)?BigInt(n.last_checkin_msec):void 0,event:Array.isArray(n?.event)?n.event.map(e=>W.fromJSON(e)):void 0,requestedGroup:Array.isArray(n?.requested_group)?n.requested_group.map(e=>String(e)):void 0,cellOperator:s(n.cell_operator)?String(n.cell_operator):void 0,simOperator:s(n.sim_operator)?String(n.sim_operator):void 0,roaming:s(n.roaming)?String(n.roaming):void 0,userNumber:s(n.user_number)?Number(n.user_number):void 0,unnamedField14:s(n.unnamedField14)?Fn(n.unnamedField14):void 0,unnamedField15:s(n.unnamedField15)?g.fromJSON(n.unnamedField15):void 0,unnamedField16:Array.isArray(n?.unnamedField16)?n.unnamedField16.map(e=>M.fromJSON(e)):void 0,unnamedField18:s(n.unnamedField18)?Boolean(n.unnamedField18):void 0,unnamedField19:s(n.unnamedField19)?String(n.unnamedField19):void 0,unnamedField20:s(n.unnamedField20)?sn(n.unnamedField20):void 0,unnamedField21:s(n.unnamedField21)?Number(n.unnamedField21):void 0}},toJSON(n){const e={};if(n.build!==void 0){e.build=J.toJSON(n.build);}if(n.lastCheckinMsec!==void 0&&n.lastCheckinMsec!==BigInt("0")){e.last_checkin_msec=n.lastCheckinMsec.toString();}if(n.event?.length){e.event=n.event.map(d=>W.toJSON(d));}if(n.requestedGroup?.length){e.requested_group=n.requestedGroup;}if(n.cellOperator!==void 0&&n.cellOperator!==""){e.cell_operator=n.cellOperator;}if(n.simOperator!==void 0&&n.simOperator!==""){e.sim_operator=n.simOperator;}if(n.roaming!==void 0&&n.roaming!==""){e.roaming=n.roaming;}if(n.userNumber!==void 0&&n.userNumber!==0){e.user_number=Math.round(n.userNumber);}if(n.unnamedField14!==void 0&&n.unnamedField14!=="OTHER"){e.unnamedField14=jn(n.unnamedField14);}if(n.unnamedField15!==void 0){e.unnamedField15=g.toJSON(n.unnamedField15);}if(n.unnamedField16?.length){e.unnamedField16=n.unnamedField16.map(d=>M.toJSON(d));}if(n.unnamedField18===true){e.unnamedField18=n.unnamedField18;}if(n.unnamedField19!==void 0&&n.unnamedField19!==""){e.unnamedField19=n.unnamedField19;}if(n.unnamedField20!==void 0&&n.unnamedField20!=="Unnamed10361_value_0"){e.unnamedField20=qn(n.unnamedField20);}if(n.unnamedField21!==void 0&&n.unnamedField21!==0){e.unnamedField21=Math.round(n.unnamedField21);}return e}};function Td(n){return BigInt(n.toString())}if(F__default.default.util.Long!==te__default.default){F__default.default.util.Long=te__default.default;F__default.default.configure();}function s(n){return n!==null&&n!==void 0}function yn(n){switch(n){case 0:case"Unnamed10357_value_0":return "Unnamed10357_value_0";case 1:case"Unnamed10357_value_1":return "Unnamed10357_value_1";case 2:case"Unnamed10357_value_2":return "Unnamed10357_value_2";case 3:case"Unnamed10357_value_3":return "Unnamed10357_value_3";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function le(n){switch(n){case"Unnamed10357_value_0":return "Unnamed10357_value_0";case"Unnamed10357_value_1":return "Unnamed10357_value_1";case"Unnamed10357_value_2":return "Unnamed10357_value_2";case"Unnamed10357_value_3":return "Unnamed10357_value_3";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function fe(n){switch(n){case"Unnamed10357_value_0":return 0;case"Unnamed10357_value_1":return 1;case"Unnamed10357_value_2":return 2;case"Unnamed10357_value_3":return 3;case"UNRECOGNIZED":default:return -1}}function Sn(n){switch(n){case 0:case"Unnamed10358_value_0":return "Unnamed10358_value_0";case 1:case"Unnamed10358_value_1":return "Unnamed10358_value_1";case 2:case"Unnamed10358_value_2":return "Unnamed10358_value_2";case 3:case"Unnamed10358_value_3":return "Unnamed10358_value_3";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function ce(n){switch(n){case"Unnamed10358_value_0":return "Unnamed10358_value_0";case"Unnamed10358_value_1":return "Unnamed10358_value_1";case"Unnamed10358_value_2":return "Unnamed10358_value_2";case"Unnamed10358_value_3":return "Unnamed10358_value_3";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function me(n){switch(n){case"Unnamed10358_value_0":return 0;case"Unnamed10358_value_1":return 1;case"Unnamed10358_value_2":return 2;case"Unnamed10358_value_3":return 3;case"UNRECOGNIZED":default:return -1}}function kn(n){switch(n){case 0:case"Unnamed10359_value_0":return "Unnamed10359_value_0";case 1:case"Unnamed10359_value_1":return "Unnamed10359_value_1";case 2:case"Unnamed10359_value_2":return "Unnamed10359_value_2";case 3:case"Unnamed10359_value_3":return "Unnamed10359_value_3";case 4:case"Unnamed10359_value_4":return "Unnamed10359_value_4";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function _e(n){switch(n){case"Unnamed10359_value_0":return "Unnamed10359_value_0";case"Unnamed10359_value_1":return "Unnamed10359_value_1";case"Unnamed10359_value_2":return "Unnamed10359_value_2";case"Unnamed10359_value_3":return "Unnamed10359_value_3";case"Unnamed10359_value_4":return "Unnamed10359_value_4";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function se(n){switch(n){case"Unnamed10359_value_0":return 0;case"Unnamed10359_value_1":return 1;case"Unnamed10359_value_2":return 2;case"Unnamed10359_value_3":return 3;case"Unnamed10359_value_4":return 4;case"UNRECOGNIZED":default:return -1}}function Z(n){switch(n){case 0:case"Unnamed10360_value_0":return "Unnamed10360_value_0";case 1:case"Unnamed10360_value_1":return "Unnamed10360_value_1";case 2:case"Unnamed10360_value_2":return "Unnamed10360_value_2";case 3:case"Unnamed10360_value_3":return "Unnamed10360_value_3";case 4:case"Unnamed10360_value_4":return "Unnamed10360_value_4";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function Cn(n){switch(n){case"Unnamed10360_value_0":return "Unnamed10360_value_0";case"Unnamed10360_value_1":return "Unnamed10360_value_1";case"Unnamed10360_value_2":return "Unnamed10360_value_2";case"Unnamed10360_value_3":return "Unnamed10360_value_3";case"Unnamed10360_value_4":return "Unnamed10360_value_4";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function hn(n){switch(n){case"Unnamed10360_value_0":return 0;case"Unnamed10360_value_1":return 1;case"Unnamed10360_value_2":return 2;case"Unnamed10360_value_3":return 3;case"Unnamed10360_value_4":return 4;case"UNRECOGNIZED":default:return -1}}function Od(){return {}}var K={encode(n,e=F__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!==""){e.uint32(10).string(n.unnamedField1);}if(n.unnamedField2!==void 0&&n.unnamedField2!==0){e.uint32(16).int32(n.unnamedField2);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=Od();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.unnamedField1=d.string();continue;case 2:if(r!==16){break}i.unnamedField2=d.int32();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {unnamedField1:Ue(n.unnamedField1)?String(n.unnamedField1):void 0,unnamedField2:Ue(n.unnamedField2)?Number(n.unnamedField2):void 0}},toJSON(n){const e={};if(n.unnamedField1!==void 0&&n.unnamedField1!==""){e.unnamedField1=n.unnamedField1;}if(n.unnamedField2!==void 0&&n.unnamedField2!==0){e.unnamedField2=Math.round(n.unnamedField2);}return e}};function Ue(n){return n!==null&&n!==void 0}function Rd(){return {}}var Y={encode(n,e=F__default.default.Writer.create()){if(n.touchScreen!==void 0&&n.touchScreen!=="Unnamed10357_value_0"){e.uint32(8).int32(fe(n.touchScreen));}if(n.keyboard!==void 0&&n.keyboard!=="Unnamed10358_value_0"){e.uint32(16).int32(me(n.keyboard));}if(n.navigation!==void 0&&n.navigation!=="Unnamed10359_value_0"){e.uint32(24).int32(se(n.navigation));}if(n.screenLayout!==void 0&&n.screenLayout!=="Unnamed10360_value_0"){e.uint32(32).int32(hn(n.screenLayout));}if(n.hasHardKeyboard===true){e.uint32(40).bool(n.hasHardKeyboard);}if(n.hasFiveWayNavigation===true){e.uint32(48).bool(n.hasFiveWayNavigation);}if(n.screenDensity!==void 0&&n.screenDensity!==0){e.uint32(56).int32(n.screenDensity);}if(n.glEsVersion!==void 0&&n.glEsVersion!==0){e.uint32(64).int32(n.glEsVersion);}if(n.systemSharedLibrary!==void 0&&n.systemSharedLibrary.length!==0){for(const d of n.systemSharedLibrary){e.uint32(74).string(d);}}if(n.systemAvailableFeature!==void 0&&n.systemAvailableFeature.length!==0){for(const d of n.systemAvailableFeature){e.uint32(82).string(d);}}if(n.nativePlatform!==void 0&&n.nativePlatform.length!==0){for(const d of n.nativePlatform){e.uint32(90).string(d);}}if(n.screenWidth!==void 0&&n.screenWidth!==0){e.uint32(96).int32(n.screenWidth);}if(n.screenHeight!==void 0&&n.screenHeight!==0){e.uint32(104).int32(n.screenHeight);}if(n.systemSupportedLocale!==void 0&&n.systemSupportedLocale.length!==0){for(const d of n.systemSupportedLocale){e.uint32(114).string(d);}}if(n.glExtension!==void 0&&n.glExtension.length!==0){for(const d of n.glExtension){e.uint32(122).string(d);}}if(n.unnamedField18!==void 0&&n.unnamedField18!==0){e.uint32(144).int32(n.unnamedField18);}if(n.unnamedField19===true){e.uint32(152).bool(n.unnamedField19);}if(n.unnamedField20!==void 0&&n.unnamedField20!==BigInt("0")){e.uint32(160).int64(n.unnamedField20.toString());}if(n.unnamedField21!==void 0&&n.unnamedField21!==0){e.uint32(168).int32(n.unnamedField21);}if(n.unnamedField26!==void 0&&n.unnamedField26.length!==0){for(const d of n.unnamedField26){K.encode(d,e.uint32(210).fork()).ldelim();}}if(n.unnamedField28===true){e.uint32(224).bool(n.unnamedField28);}if(n.unnamedField29!==void 0&&n.unnamedField29!==""){e.uint32(234).string(n.unnamedField29);}if(n.unnamedField30!==void 0&&n.unnamedField30!=="Unnamed10360_value_0"){e.uint32(240).int32(hn(n.unnamedField30));}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=Rd();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==8){break}i.touchScreen=yn(d.int32());continue;case 2:if(r!==16){break}i.keyboard=Sn(d.int32());continue;case 3:if(r!==24){break}i.navigation=kn(d.int32());continue;case 4:if(r!==32){break}i.screenLayout=Z(d.int32());continue;case 5:if(r!==40){break}i.hasHardKeyboard=d.bool();continue;case 6:if(r!==48){break}i.hasFiveWayNavigation=d.bool();continue;case 7:if(r!==56){break}i.screenDensity=d.int32();continue;case 8:if(r!==64){break}i.glEsVersion=d.int32();continue;case 9:if(r!==74){break}if(i.systemSharedLibrary===void 0){i.systemSharedLibrary=[];}i.systemSharedLibrary.push(d.string());continue;case 10:if(r!==82){break}if(i.systemAvailableFeature===void 0){i.systemAvailableFeature=[];}i.systemAvailableFeature.push(d.string());continue;case 11:if(r!==90){break}if(i.nativePlatform===void 0){i.nativePlatform=[];}i.nativePlatform.push(d.string());continue;case 12:if(r!==96){break}i.screenWidth=d.int32();continue;case 13:if(r!==104){break}i.screenHeight=d.int32();continue;case 14:if(r!==114){break}if(i.systemSupportedLocale===void 0){i.systemSupportedLocale=[];}i.systemSupportedLocale.push(d.string());continue;case 15:if(r!==122){break}if(i.glExtension===void 0){i.glExtension=[];}i.glExtension.push(d.string());continue;case 18:if(r!==144){break}i.unnamedField18=d.int32();continue;case 19:if(r!==152){break}i.unnamedField19=d.bool();continue;case 20:if(r!==160){break}i.unnamedField20=Dd(d.int64());continue;case 21:if(r!==168){break}i.unnamedField21=d.int32();continue;case 26:if(r!==210){break}if(i.unnamedField26===void 0){i.unnamedField26=[];}i.unnamedField26.push(K.decode(d,d.uint32()));continue;case 28:if(r!==224){break}i.unnamedField28=d.bool();continue;case 29:if(r!==234){break}i.unnamedField29=d.string();continue;case 30:if(r!==240){break}i.unnamedField30=Z(d.int32());continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {touchScreen:c(n.touch_screen)?yn(n.touch_screen):void 0,keyboard:c(n.keyboard)?Sn(n.keyboard):void 0,navigation:c(n.navigation)?kn(n.navigation):void 0,screenLayout:c(n.screen_layout)?Z(n.screen_layout):void 0,hasHardKeyboard:c(n.has_hard_keyboard)?Boolean(n.has_hard_keyboard):void 0,hasFiveWayNavigation:c(n.has_five_way_navigation)?Boolean(n.has_five_way_navigation):void 0,screenDensity:c(n.screen_density)?Number(n.screen_density):void 0,glEsVersion:c(n.gl_es_version)?Number(n.gl_es_version):void 0,systemSharedLibrary:Array.isArray(n?.system_shared_library)?n.system_shared_library.map(e=>String(e)):void 0,systemAvailableFeature:Array.isArray(n?.system_available_feature)?n.system_available_feature.map(e=>String(e)):void 0,nativePlatform:Array.isArray(n?.native_platform)?n.native_platform.map(e=>String(e)):void 0,screenWidth:c(n.screen_width)?Number(n.screen_width):void 0,screenHeight:c(n.screen_height)?Number(n.screen_height):void 0,systemSupportedLocale:Array.isArray(n?.system_supported_locale)?n.system_supported_locale.map(e=>String(e)):void 0,glExtension:Array.isArray(n?.gl_extension)?n.gl_extension.map(e=>String(e)):void 0,unnamedField18:c(n.unnamedField18)?Number(n.unnamedField18):void 0,unnamedField19:c(n.unnamedField19)?Boolean(n.unnamedField19):void 0,unnamedField20:c(n.unnamedField20)?BigInt(n.unnamedField20):void 0,unnamedField21:c(n.unnamedField21)?Number(n.unnamedField21):void 0,unnamedField26:Array.isArray(n?.unnamedField26)?n.unnamedField26.map(e=>K.fromJSON(e)):void 0,unnamedField28:c(n.unnamedField28)?Boolean(n.unnamedField28):void 0,unnamedField29:c(n.unnamedField29)?String(n.unnamedField29):void 0,unnamedField30:c(n.unnamedField30)?Z(n.unnamedField30):void 0}},toJSON(n){const e={};if(n.touchScreen!==void 0&&n.touchScreen!=="Unnamed10357_value_0"){e.touch_screen=le(n.touchScreen);}if(n.keyboard!==void 0&&n.keyboard!=="Unnamed10358_value_0"){e.keyboard=ce(n.keyboard);}if(n.navigation!==void 0&&n.navigation!=="Unnamed10359_value_0"){e.navigation=_e(n.navigation);}if(n.screenLayout!==void 0&&n.screenLayout!=="Unnamed10360_value_0"){e.screen_layout=Cn(n.screenLayout);}if(n.hasHardKeyboard===true){e.has_hard_keyboard=n.hasHardKeyboard;}if(n.hasFiveWayNavigation===true){e.has_five_way_navigation=n.hasFiveWayNavigation;}if(n.screenDensity!==void 0&&n.screenDensity!==0){e.screen_density=Math.round(n.screenDensity);}if(n.glEsVersion!==void 0&&n.glEsVersion!==0){e.gl_es_version=Math.round(n.glEsVersion);}if(n.systemSharedLibrary?.length){e.system_shared_library=n.systemSharedLibrary;}if(n.systemAvailableFeature?.length){e.system_available_feature=n.systemAvailableFeature;}if(n.nativePlatform?.length){e.native_platform=n.nativePlatform;}if(n.screenWidth!==void 0&&n.screenWidth!==0){e.screen_width=Math.round(n.screenWidth);}if(n.screenHeight!==void 0&&n.screenHeight!==0){e.screen_height=Math.round(n.screenHeight);}if(n.systemSupportedLocale?.length){e.system_supported_locale=n.systemSupportedLocale;}if(n.glExtension?.length){e.gl_extension=n.glExtension;}if(n.unnamedField18!==void 0&&n.unnamedField18!==0){e.unnamedField18=Math.round(n.unnamedField18);}if(n.unnamedField19===true){e.unnamedField19=n.unnamedField19;}if(n.unnamedField20!==void 0&&n.unnamedField20!==BigInt("0")){e.unnamedField20=n.unnamedField20.toString();}if(n.unnamedField21!==void 0&&n.unnamedField21!==0){e.unnamedField21=Math.round(n.unnamedField21);}if(n.unnamedField26?.length){e.unnamedField26=n.unnamedField26.map(d=>K.toJSON(d));}if(n.unnamedField28===true){e.unnamedField28=n.unnamedField28;}if(n.unnamedField29!==void 0&&n.unnamedField29!==""){e.unnamedField29=n.unnamedField29;}if(n.unnamedField30!==void 0&&n.unnamedField30!=="Unnamed10360_value_0"){e.unnamedField30=Cn(n.unnamedField30);}return e}};function Dd(n){return BigInt(n.toString())}if(F__default.default.util.Long!==te__default.default){F__default.default.util.Long=te__default.default;F__default.default.configure();}function c(n){return n!==null&&n!==void 0}function bd(){return {}}var Ne={encode(n,e=F__default.default.Writer.create()){if(n.imei!==void 0&&n.imei!==""){e.uint32(10).string(n.imei);}if(n.id!==void 0&&n.id!==BigInt("0")){e.uint32(16).int64(n.id.toString());}if(n.digest!==void 0&&n.digest!==""){e.uint32(26).string(n.digest);}if(n.checkin!==void 0){V.encode(n.checkin,e.uint32(34).fork()).ldelim();}if(n.locale!==void 0&&n.locale!==""){e.uint32(50).string(n.locale);}if(n.macAddr!==void 0&&n.macAddr.length!==0){for(const d of n.macAddr){e.uint32(74).string(d);}}if(n.meid!==void 0&&n.meid!==""){e.uint32(82).string(n.meid);}if(n.accountCookie!==void 0&&n.accountCookie.length!==0){for(const d of n.accountCookie){e.uint32(90).string(d);}}if(n.timeZone!==void 0&&n.timeZone!==""){e.uint32(98).string(n.timeZone);}if(n.securityToken!==void 0&&n.securityToken!==BigInt("0")){e.uint32(105).fixed64(n.securityToken.toString());}if(n.version!==void 0&&n.version!==0){e.uint32(112).int32(n.version);}if(n.otaCert!==void 0&&n.otaCert.length!==0){for(const d of n.otaCert){e.uint32(122).string(d);}}if(n.serialNumber!==void 0&&n.serialNumber!==""){e.uint32(130).string(n.serialNumber);}if(n.esn!==void 0&&n.esn!==""){e.uint32(138).string(n.esn);}if(n.deviceConfiguration!==void 0){Y.encode(n.deviceConfiguration,e.uint32(146).fork()).ldelim();}if(n.macAddrType!==void 0&&n.macAddrType.length!==0){for(const d of n.macAddrType){e.uint32(154).string(d);}}if(n.fragment!==void 0&&n.fragment!==0){e.uint32(160).int32(n.fragment);}if(n.userSerialNumber!==void 0&&n.userSerialNumber!==0){e.uint32(176).int32(n.userSerialNumber);}if(n.unnamedField23!==void 0){w.encode(n.unnamedField23,e.uint32(186).fork()).ldelim();}if(n.unnamedField24!==void 0&&n.unnamedField24!==""){e.uint32(194).string(n.unnamedField24);}if(n.unnamedField25!==void 0&&n.unnamedField25!==""){e.uint32(202).string(n.unnamedField25);}if(n.unnamedField26!==void 0&&n.unnamedField26!=="NO_RESTRICTION"){e.uint32(208).int32(Zn(n.unnamedField26));}if(n.unnamedField27!==void 0){B.encode(n.unnamedField27,e.uint32(218).fork()).ldelim();}if(n.unnamedField29===true){e.uint32(232).bool(n.unnamedField29);}if(n.unnamedField30===true){e.uint32(240).bool(n.unnamedField30);}if(n.unnamedField31===true){e.uint32(248).bool(n.unnamedField31);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=bd();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.imei=d.string();continue;case 2:if(r!==16){break}i.id=pe(d.int64());continue;case 3:if(r!==26){break}i.digest=d.string();continue;case 4:if(r!==34){break}i.checkin=V.decode(d,d.uint32());continue;case 6:if(r!==50){break}i.locale=d.string();continue;case 9:if(r!==74){break}if(i.macAddr===void 0){i.macAddr=[];}i.macAddr.push(d.string());continue;case 10:if(r!==82){break}i.meid=d.string();continue;case 11:if(r!==90){break}if(i.accountCookie===void 0){i.accountCookie=[];}i.accountCookie.push(d.string());continue;case 12:if(r!==98){break}i.timeZone=d.string();continue;case 13:if(r!==105){break}i.securityToken=pe(d.fixed64());continue;case 14:if(r!==112){break}i.version=d.int32();continue;case 15:if(r!==122){break}if(i.otaCert===void 0){i.otaCert=[];}i.otaCert.push(d.string());continue;case 16:if(r!==130){break}i.serialNumber=d.string();continue;case 17:if(r!==138){break}i.esn=d.string();continue;case 18:if(r!==146){break}i.deviceConfiguration=Y.decode(d,d.uint32());continue;case 19:if(r!==154){break}if(i.macAddrType===void 0){i.macAddrType=[];}i.macAddrType.push(d.string());continue;case 20:if(r!==160){break}i.fragment=d.int32();continue;case 22:if(r!==176){break}i.userSerialNumber=d.int32();continue;case 23:if(r!==186){break}i.unnamedField23=w.decode(d,d.uint32());continue;case 24:if(r!==194){break}i.unnamedField24=d.string();continue;case 25:if(r!==202){break}i.unnamedField25=d.string();continue;case 26:if(r!==208){break}i.unnamedField26=fn(d.int32());continue;case 27:if(r!==218){break}i.unnamedField27=B.decode(d,d.uint32());continue;case 29:if(r!==232){break}i.unnamedField29=d.bool();continue;case 30:if(r!==240){break}i.unnamedField30=d.bool();continue;case 31:if(r!==248){break}i.unnamedField31=d.bool();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {imei:f(n.imei)?String(n.imei):void 0,id:f(n.id)?BigInt(n.id):void 0,digest:f(n.digest)?String(n.digest):void 0,checkin:f(n.checkin)?V.fromJSON(n.checkin):void 0,locale:f(n.locale)?String(n.locale):void 0,macAddr:Array.isArray(n?.mac_addr)?n.mac_addr.map(e=>String(e)):void 0,meid:f(n.meid)?String(n.meid):void 0,accountCookie:Array.isArray(n?.account_cookie)?n.account_cookie.map(e=>String(e)):void 0,timeZone:f(n.time_zone)?String(n.time_zone):void 0,securityToken:f(n.security_token)?BigInt(n.security_token):void 0,version:f(n.version)?Number(n.version):void 0,otaCert:Array.isArray(n?.ota_cert)?n.ota_cert.map(e=>String(e)):void 0,serialNumber:f(n.serial_number)?String(n.serial_number):void 0,esn:f(n.esn)?String(n.esn):void 0,deviceConfiguration:f(n.device_configuration)?Y.fromJSON(n.device_configuration):void 0,macAddrType:Array.isArray(n?.mac_addr_type)?n.mac_addr_type.map(e=>String(e)):void 0,fragment:f(n.fragment)?Number(n.fragment):void 0,userSerialNumber:f(n.user_serial_number)?Number(n.user_serial_number):void 0,unnamedField23:f(n.unnamedField23)?w.fromJSON(n.unnamedField23):void 0,unnamedField24:f(n.unnamedField24)?String(n.unnamedField24):void 0,unnamedField25:f(n.unnamedField25)?String(n.unnamedField25):void 0,unnamedField26:f(n.unnamedField26)?fn(n.unnamedField26):void 0,unnamedField27:f(n.unnamedField27)?B.fromJSON(n.unnamedField27):void 0,unnamedField29:f(n.unnamedField29)?Boolean(n.unnamedField29):void 0,unnamedField30:f(n.unnamedField30)?Boolean(n.unnamedField30):void 0,unnamedField31:f(n.unnamedField31)?Boolean(n.unnamedField31):void 0}},toJSON(n){const e={};if(n.imei!==void 0&&n.imei!==""){e.imei=n.imei;}if(n.id!==void 0&&n.id!==BigInt("0")){e.id=n.id.toString();}if(n.digest!==void 0&&n.digest!==""){e.digest=n.digest;}if(n.checkin!==void 0){e.checkin=V.toJSON(n.checkin);}if(n.locale!==void 0&&n.locale!==""){e.locale=n.locale;}if(n.macAddr?.length){e.mac_addr=n.macAddr;}if(n.meid!==void 0&&n.meid!==""){e.meid=n.meid;}if(n.accountCookie?.length){e.account_cookie=n.accountCookie;}if(n.timeZone!==void 0&&n.timeZone!==""){e.time_zone=n.timeZone;}if(n.securityToken!==void 0&&n.securityToken!==BigInt("0")){e.security_token=n.securityToken.toString();}if(n.version!==void 0&&n.version!==0){e.version=Math.round(n.version);}if(n.otaCert?.length){e.ota_cert=n.otaCert;}if(n.serialNumber!==void 0&&n.serialNumber!==""){e.serial_number=n.serialNumber;}if(n.esn!==void 0&&n.esn!==""){e.esn=n.esn;}if(n.deviceConfiguration!==void 0){e.device_configuration=Y.toJSON(n.deviceConfiguration);}if(n.macAddrType?.length){e.mac_addr_type=n.macAddrType;}if(n.fragment!==void 0&&n.fragment!==0){e.fragment=Math.round(n.fragment);}if(n.userSerialNumber!==void 0&&n.userSerialNumber!==0){e.user_serial_number=Math.round(n.userSerialNumber);}if(n.unnamedField23!==void 0){e.unnamedField23=w.toJSON(n.unnamedField23);}if(n.unnamedField24!==void 0&&n.unnamedField24!==""){e.unnamedField24=n.unnamedField24;}if(n.unnamedField25!==void 0&&n.unnamedField25!==""){e.unnamedField25=n.unnamedField25;}if(n.unnamedField26!==void 0&&n.unnamedField26!=="NO_RESTRICTION"){e.unnamedField26=Vn(n.unnamedField26);}if(n.unnamedField27!==void 0){e.unnamedField27=B.toJSON(n.unnamedField27);}if(n.unnamedField29===true){e.unnamedField29=n.unnamedField29;}if(n.unnamedField30===true){e.unnamedField30=n.unnamedField30;}if(n.unnamedField31===true){e.unnamedField31=n.unnamedField31;}return e}};function pe(n){return BigInt(n.toString())}if(F__default.default.util.Long!==te__default.default){F__default.default.util.Long=te__default.default;F__default.default.configure();}function f(n){return n!==null&&n!==void 0}function Ld(){return {}}var X={encode(n,e=F__default.default.Writer.create()){if(n.action!==void 0&&n.action!==""){e.uint32(10).string(n.action);}if(n.dataUri!==void 0&&n.dataUri!==""){e.uint32(18).string(n.dataUri);}if(n.mimeType!==void 0&&n.mimeType!==""){e.uint32(26).string(n.mimeType);}if(n.extra!==void 0&&n.extra.length!==0){for(const d of n.extra){en.encode(d,e.uint32(43)).uint32(44);}}if(n.unnamedField8!==void 0&&n.unnamedField8!==""){e.uint32(66).string(n.unnamedField8);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=Ld();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.action=d.string();continue;case 2:if(r!==18){break}i.dataUri=d.string();continue;case 3:if(r!==26){break}i.mimeType=d.string();continue;case 5:if(r!==43){break}if(i.extra===void 0){i.extra=[];}i.extra.push(en.decode(d));continue;case 8:if(r!==66){break}i.unnamedField8=d.string();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {action:h(n.action)?String(n.action):void 0,dataUri:h(n.data_uri)?String(n.data_uri):void 0,mimeType:h(n.mime_type)?String(n.mime_type):void 0,extra:Array.isArray(n?.extra)?n.extra.map(e=>en.fromJSON(e)):void 0,unnamedField8:h(n.unnamedField8)?String(n.unnamedField8):void 0}},toJSON(n){const e={};if(n.action!==void 0&&n.action!==""){e.action=n.action;}if(n.dataUri!==void 0&&n.dataUri!==""){e.data_uri=n.dataUri;}if(n.mimeType!==void 0&&n.mimeType!==""){e.mime_type=n.mimeType;}if(n.extra?.length){e.extra=n.extra.map(d=>en.toJSON(d));}if(n.unnamedField8!==void 0&&n.unnamedField8!==""){e.unnamedField8=n.unnamedField8;}return e}};function Pd(){return {}}var en={encode(n,e=F__default.default.Writer.create()){if(n.name!==void 0&&n.name!==""){e.uint32(50).string(n.name);}if(n.value!==void 0&&n.value!==""){e.uint32(58).string(n.value);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=Pd();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 6:if(r!==50){break}i.name=d.string();continue;case 7:if(r!==58){break}i.value=d.string();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {name:h(n.name)?String(n.name):void 0,value:h(n.value)?String(n.value):void 0}},toJSON(n){const e={};if(n.name!==void 0&&n.name!==""){e.name=n.name;}if(n.value!==void 0&&n.value!==""){e.value=n.value;}return e}};function h(n){return n!==null&&n!==void 0}function Bd(){return {}}var q={encode(n,e=F__default.default.Writer.create()){if(n.name!==void 0&&n.name.length!==0){e.uint32(10).bytes(n.name);}if(n.value!==void 0&&n.value.length!==0){e.uint32(18).bytes(n.value);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=Bd();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.name=d.bytes();continue;case 2:if(r!==18){break}i.value=d.bytes();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {name:Ae(n.name)?Buffer.from(ve(n.name)):void 0,value:Ae(n.value)?Buffer.from(ve(n.value)):void 0}},toJSON(n){const e={};if(n.name!==void 0&&n.name.length!==0){e.name=Ie(n.name);}if(n.value!==void 0&&n.value.length!==0){e.value=Ie(n.value);}return e}};var O=(()=>{if(typeof globalThis!=="undefined"){return globalThis}if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw "Unable to locate global object"})();function ve(n){if(O.Buffer){return Uint8Array.from(O.Buffer.from(n,"base64"))}else {const e=O.atob(n);const d=new Uint8Array(e.length);for(let u=0;u<e.length;++u){d[u]=e.charCodeAt(u);}return d}}function Ie(n){if(O.Buffer){return O.Buffer.from(n).toString("base64")}else {const e=[];n.forEach(d=>{e.push(String.fromCharCode(d));});return O.btoa(e.join(""))}}function Ae(n){return n!==null&&n!==void 0}function wd(){return {}}var Se={encode(n,e=F__default.default.Writer.create()){if(n.statsOk===true){e.uint32(8).bool(n.statsOk);}if(n.intent!==void 0&&n.intent.length!==0){for(const d of n.intent){X.encode(d,e.uint32(18).fork()).ldelim();}}if(n.timeMsec!==void 0&&n.timeMsec!==BigInt("0")){e.uint32(24).int64(n.timeMsec.toString());}if(n.setting!==void 0&&n.setting.length!==0){for(const d of n.setting){q.encode(d,e.uint32(42).fork()).ldelim();}}if(n.androidId!==void 0&&n.androidId!==BigInt("0")){e.uint32(57).fixed64(n.androidId.toString());}if(n.securityToken!==void 0&&n.securityToken!==BigInt("0")){e.uint32(65).fixed64(n.securityToken.toString());}if(n.settingsDiff===true){e.uint32(72).bool(n.settingsDiff);}if(n.unnamedField11!==void 0&&n.unnamedField11!==""){e.uint32(90).string(n.unnamedField11);}if(n.unnamedField12!==void 0&&n.unnamedField12!==""){e.uint32(98).string(n.unnamedField12);}if(n.unnamedField13!==void 0&&n.unnamedField13.length!==0){for(const d of n.unnamedField13){e.uint32(106).string(d);}}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=wd();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==8){break}i.statsOk=d.bool();continue;case 2:if(r!==18){break}if(i.intent===void 0){i.intent=[];}i.intent.push(X.decode(d,d.uint32()));continue;case 3:if(r!==24){break}i.timeMsec=Rn(d.int64());continue;case 5:if(r!==42){break}if(i.setting===void 0){i.setting=[];}i.setting.push(q.decode(d,d.uint32()));continue;case 7:if(r!==57){break}i.androidId=Rn(d.fixed64());continue;case 8:if(r!==65){break}i.securityToken=Rn(d.fixed64());continue;case 9:if(r!==72){break}i.settingsDiff=d.bool();continue;case 11:if(r!==90){break}i.unnamedField11=d.string();continue;case 12:if(r!==98){break}i.unnamedField12=d.string();continue;case 13:if(r!==106){break}if(i.unnamedField13===void 0){i.unnamedField13=[];}i.unnamedField13.push(d.string());continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {statsOk:N(n.stats_ok)?Boolean(n.stats_ok):void 0,intent:Array.isArray(n?.intent)?n.intent.map(e=>X.fromJSON(e)):void 0,timeMsec:N(n.time_msec)?BigInt(n.time_msec):void 0,setting:Array.isArray(n?.setting)?n.setting.map(e=>q.fromJSON(e)):void 0,androidId:N(n.android_id)?BigInt(n.android_id):void 0,securityToken:N(n.security_token)?BigInt(n.security_token):void 0,settingsDiff:N(n.settings_diff)?Boolean(n.settings_diff):void 0,unnamedField11:N(n.unnamedField11)?String(n.unnamedField11):void 0,unnamedField12:N(n.unnamedField12)?String(n.unnamedField12):void 0,unnamedField13:Array.isArray(n?.unnamedField13)?n.unnamedField13.map(e=>String(e)):void 0}},toJSON(n){const e={};if(n.statsOk===true){e.stats_ok=n.statsOk;}if(n.intent?.length){e.intent=n.intent.map(d=>X.toJSON(d));}if(n.timeMsec!==void 0&&n.timeMsec!==BigInt("0")){e.time_msec=n.timeMsec.toString();}if(n.setting?.length){e.setting=n.setting.map(d=>q.toJSON(d));}if(n.androidId!==void 0&&n.androidId!==BigInt("0")){e.android_id=n.androidId.toString();}if(n.securityToken!==void 0&&n.securityToken!==BigInt("0")){e.security_token=n.securityToken.toString();}if(n.settingsDiff===true){e.settings_diff=n.settingsDiff;}if(n.unnamedField11!==void 0&&n.unnamedField11!==""){e.unnamedField11=n.unnamedField11;}if(n.unnamedField12!==void 0&&n.unnamedField12!==""){e.unnamedField12=n.unnamedField12;}if(n.unnamedField13?.length){e.unnamedField13=n.unnamedField13;}return e}};function Rn(n){return BigInt(n.toString())}if(F__default.default.util.Long!==te__default.default){F__default.default.util.Long=te__default.default;F__default.default.configure();}function N(n){return n!==null&&n!==void 0}var ke={name:"AndroidCheckin",fullName:"google.android.gsf.checkin.AndroidCheckin",methods:{checkin:{name:"Checkin",requestType:Ne,requestStream:false,responseType:Se,responseStream:false,options:{_unknownFields:{578365826:[Buffer.from([13,34,8,47,99,104,101,99,107,105,110,58,1,42])]}}}}};var gd=ke;var Ce=[{"name":"Android Checkin","id":"android.googleapis.com://checkin","client":"google.rest","endpoints":[{"host":"android.googleapis.com","transport":["application/json","application/x-protobuffer"]},{"host":"device-provisioning.googleapis.com","transport":["application/json","application/x-protobuffer"]}],"implementation":{"protoOverREST":gd}},{"name":"Android Authentication","id":"android.googleapis.com://auth","client":"google.android.auth","endpoints":[{"host":"android.googleapis.com","transport":["googleauth"]}],"methods":[{"name":"Auth","method":"POST","path":"/auth","transport":["googleauth"]}]}];mosaic.DefaultServiceProvider.registerClients(Gn);mosaic.DefaultServiceProvider.registerTransports(Wn);mosaic.DefaultServiceProvider.registerServices(Ce);var Dn;function he(n){if(!Dn){Dn=mosaic.DefaultServiceProvider.create("android.googleapis.com://checkin",{transport:"application/x-protobuffer"});}return Dn.checkin(n)}async function Gd(n,e){let d={id:n.id,product:n.product,carrier:n.carrier,radio:n.radio,bootloader:n.bootloader,client:n.client,manufacturer:n.manufacturer,buildProduct:n.product,device:n.device,model:n.product};let u={imei:n.imei,id:0n,otaCert:n.otaCert?[n.otaCert]:[],fragment:0,version:3,securityToken:0n,checkin:{build:d},...e};let i=await he(u);if(!i.androidId||i.androidId===0n)throw new jsCommon.ApiError("Failed to get androidId");return {response:i,androidId:i.androidId.toString(16)}}var Te={"package":"com.google.android.gms","version":225014e3};function rn(n,e){if(!n.has(e))throw new jsCommon.ApiError(`${e} missing in response`);return n.get(e)}var bn=class{constructor(){}static authService;static oauth(e,d){if(!this.authService)this.authService=mosaic.DefaultServiceProvider.create("android.googleapis.com://auth");return this.authService.auth({...d,service:d.service.join(":"),google_play_services_version:Te.version,Token:e})}static async login(e){let d=await this.oauth(e,{service:["ac2dm"],add_account:1,get_accountid:1,ACCESS_TOKEN:1});return {secret:rn(d,"Token"),email:rn(d,"Email"),firstName:d.get("firstName"),lastName:d.get("lastName"),accountId:d.get("accountId")}}static async issueToken(e,d,u,i){let r=await this.oauth(u,{androidId:e,app:d.name,client_sig:d.signature,service:["oauth2",mosaic.Scopes.stringify(i)]});let o=void 0;if(r.has("Expiry")){o=parseInt(r.get("Expiry"),10);if(!Number.isFinite(o))o=void 0;}return {secret:rn(r,"Auth"),expire:o,scopes:mosaic.Scopes.parse(rn(r,"grantedScopes"))}}};var Re=`${__dirname}/..`;var un=class extends mosaic.OAuthIssuer{androidIdPromise;async getAndroidId(){let e="mosaic.google-cloud.androidId";let d=await mosaic.CredentialStore.getKey(e);if(d)return d;if(this.androidIdPromise)return await this.androidIdPromise;let u=mosaic.Config.get("oauth/android.googleapis.com/deviceInfo");if(!u)throw new jsCommon.GenericError("Device configuration not found");this.androidIdPromise=D.createAndroidId(u).then(i=>i.androidId);try{d=await this.androidIdPromise;}finally{this.androidIdPromise=void 0;}mosaic.CredentialStore.setKey(e,d);return d}async login(e){let d=await D.Auth.login(e);let u=[];if(d.firstName)u.push(d.firstName);if(d.lastName)u.push(d.lastName);return new mosaic.RefreshToken({issuer:this,type:"Bearer",secret:d.secret,metadata:{...d,secret:void 0,profile:u.length?u.join(" "):void 0}})}async issue(e,d,u){let i=await this.getAndroidId();let r=await D.Auth.issueToken(i,{name:d.package,signature:d.fingerprint},e.secret,u);return new mosaic.AccessToken({issuer:this,client:d.id,type:"Bearer",refresher:e,...r})}async perform(e,d,u){if(u?.noUI)throw new jsCommon.InvalidArgumentError("No UI not supported for this login method");if(u?.email||u?.password)throw new jsCommon.InvalidArgumentError("Username and/or password is not supported for this login method");if(!u?.form&&u?.formOptions)u.form=jsCommon.Json.decode(u.formOptions);let i={form:u?.form,userAgent:mosaic.Config.get("oauth/accounts.google.com/userAgent/embedded.setup.v2/android")};let r,o,t;r=await mosaic.launch(`${Re}/google-cloud/oauth/android/login`,i);if(!r.length)throw new mosaic.UserDeniedError;o=await this.login(r[0]);t=await this.issue(o,e,d);return t}async exchange(e,d){throw new jsCommon.UnsupportedError}refresh(e,d){let u=mosaic.DefaultOAuthProvider.getClient(e.client);return this.issue(d,u,e.scopes)}async revoke(e){}};var jd=un;var Pe=[{"name":"Android OAuth 2.0","id":"android.googleapis.com","implementation":jd}];mosaic.DefaultOAuthProvider.registerIssuers(Pe);var Ln=class{provider;projects;constructor(e=mosaic.DefaultOAuthProvider){this.provider=e;this.projects=new Map;}registerProjects(e){for(let d of e){this.projects.set(d.name,d);for(let u of d.clients??[]){this.provider.registerClients([{config:d.oauth[0],project:d,...u}]);}}}getProject(e){let d=this.projects.get(e);if(!d)throw new jsCommon.NotFoundError(`Project with name '${e}' not found`);return d}};var it=new Ln;function ai(n,e){return `${n}${e}`}var tn=class extends mosaic.Credentials{cookies;string;authuser;constructor(e,d=0){super();this.cookies=jsCommon.Cookie.parse(e);this.string=e;this.authuser=d;}getAuthorization(e,d=true,u=Date.now()){let i=this.cookies[d?"SAPISID":"APISID"];if(!i)i=this.cookies[ai("__Secure-3P","APISID")];if(!i)throw new mosaic.InvalidCredentialsError;let r=crypto.createHash("sha1").update(`${u} ${i} ${e}`).digest("hex");return `${d?"SAPISID":"APISID"}HASH ${u}_${r}`}getCookie(){return this.string}};function oi(){return {}}var $={encode(n,e=F__default.default.Writer.create()){if(n.type_url!==void 0&&n.type_url!==""){e.uint32(10).string(n.type_url);}if(n.value!==void 0&&n.value.length!==0){e.uint32(18).bytes(n.value);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=oi();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.type_url=d.string();continue;case 2:if(r!==18){break}i.value=d.bytes();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {type_url:Be(n.type_url)?String(n.type_url):void 0,value:Be(n.value)?Buffer.from(li(n.value)):void 0}},toJSON(n){const e={};if(n.type_url!==void 0&&n.type_url!==""){e.type_url=n.type_url;}if(n.value!==void 0&&n.value.length!==0){e.value=fi(n.value);}return e}};var b=(()=>{if(typeof globalThis!=="undefined"){return globalThis}if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw "Unable to locate global object"})();function li(n){if(b.Buffer){return Uint8Array.from(b.Buffer.from(n,"base64"))}else {const e=b.atob(n);const d=new Uint8Array(e.length);for(let u=0;u<e.length;++u){d[u]=e.charCodeAt(u);}return d}}function fi(n){if(b.Buffer){return b.Buffer.from(n).toString("base64")}else {const e=[];n.forEach(d=>{e.push(String.fromCharCode(d));});return b.btoa(e.join(""))}}function Be(n){return n!==null&&n!==void 0}function Bn(n){switch(n){case 0:case"OK":return "OK";case 1:case"CANCELLED":return "CANCELLED";case 2:case"UNKNOWN":return "UNKNOWN";case 3:case"INVALID_ARGUMENT":return "INVALID_ARGUMENT";case 4:case"DEADLINE_EXCEEDED":return "DEADLINE_EXCEEDED";case 5:case"NOT_FOUND":return "NOT_FOUND";case 6:case"ALREADY_EXISTS":return "ALREADY_EXISTS";case 7:case"PERMISSION_DENIED":return "PERMISSION_DENIED";case 16:case"UNAUTHENTICATED":return "UNAUTHENTICATED";case 8:case"RESOURCE_EXHAUSTED":return "RESOURCE_EXHAUSTED";case 9:case"FAILED_PRECONDITION":return "FAILED_PRECONDITION";case 10:case"ABORTED":return "ABORTED";case 11:case"OUT_OF_RANGE":return "OUT_OF_RANGE";case 12:case"UNIMPLEMENTED":return "UNIMPLEMENTED";case 13:case"INTERNAL":return "INTERNAL";case 14:case"UNAVAILABLE":return "UNAVAILABLE";case 15:case"DATA_LOSS":return "DATA_LOSS";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function we(n){switch(n){case"OK":return "OK";case"CANCELLED":return "CANCELLED";case"UNKNOWN":return "UNKNOWN";case"INVALID_ARGUMENT":return "INVALID_ARGUMENT";case"DEADLINE_EXCEEDED":return "DEADLINE_EXCEEDED";case"NOT_FOUND":return "NOT_FOUND";case"ALREADY_EXISTS":return "ALREADY_EXISTS";case"PERMISSION_DENIED":return "PERMISSION_DENIED";case"UNAUTHENTICATED":return "UNAUTHENTICATED";case"RESOURCE_EXHAUSTED":return "RESOURCE_EXHAUSTED";case"FAILED_PRECONDITION":return "FAILED_PRECONDITION";case"ABORTED":return "ABORTED";case"OUT_OF_RANGE":return "OUT_OF_RANGE";case"UNIMPLEMENTED":return "UNIMPLEMENTED";case"INTERNAL":return "INTERNAL";case"UNAVAILABLE":return "UNAVAILABLE";case"DATA_LOSS":return "DATA_LOSS";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}function xe(n){switch(n){case"OK":return 0;case"CANCELLED":return 1;case"UNKNOWN":return 2;case"INVALID_ARGUMENT":return 3;case"DEADLINE_EXCEEDED":return 4;case"NOT_FOUND":return 5;case"ALREADY_EXISTS":return 6;case"PERMISSION_DENIED":return 7;case"UNAUTHENTICATED":return 16;case"RESOURCE_EXHAUSTED":return 8;case"FAILED_PRECONDITION":return 9;case"ABORTED":return 10;case"OUT_OF_RANGE":return 11;case"UNIMPLEMENTED":return 12;case"INTERNAL":return 13;case"UNAVAILABLE":return 14;case"DATA_LOSS":return 15;case"UNRECOGNIZED":default:return -1}}function ci(){return {}}var ge={encode(n,e=F__default.default.Writer.create()){if(n.error!==void 0){on.encode(n.error,e.uint32(10).fork()).ldelim();}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=ci();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.error=on.decode(d,d.uint32());continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {error:E(n.error)?on.fromJSON(n.error):void 0}},toJSON(n){const e={};if(n.error!==void 0){e.error=on.toJSON(n.error);}return e}};function mi(){return {}}var an={encode(n,e=F__default.default.Writer.create()){if(n.message!==void 0&&n.message!==""){e.uint32(10).string(n.message);}if(n.domain!==void 0&&n.domain!==""){e.uint32(18).string(n.domain);}if(n.reason!==void 0&&n.reason!==""){e.uint32(26).string(n.reason);}if(n.location!==void 0&&n.location!==""){e.uint32(34).string(n.location);}if(n.location_type!==void 0&&n.location_type!==""){e.uint32(42).string(n.location_type);}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=mi();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==10){break}i.message=d.string();continue;case 2:if(r!==18){break}i.domain=d.string();continue;case 3:if(r!==26){break}i.reason=d.string();continue;case 4:if(r!==34){break}i.location=d.string();continue;case 5:if(r!==42){break}i.location_type=d.string();continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {message:E(n.message)?String(n.message):void 0,domain:E(n.domain)?String(n.domain):void 0,reason:E(n.reason)?String(n.reason):void 0,location:E(n.location)?String(n.location):void 0,location_type:E(n.location_type)?String(n.location_type):void 0}},toJSON(n){const e={};if(n.message!==void 0&&n.message!==""){e.message=n.message;}if(n.domain!==void 0&&n.domain!==""){e.domain=n.domain;}if(n.reason!==void 0&&n.reason!==""){e.reason=n.reason;}if(n.location!==void 0&&n.location!==""){e.location=n.location;}if(n.location_type!==void 0&&n.location_type!==""){e.location_type=n.location_type;}return e}};function _i(){return {}}var on={encode(n,e=F__default.default.Writer.create()){if(n.code!==void 0&&n.code!==0){e.uint32(8).int32(n.code);}if(n.message!==void 0&&n.message!==""){e.uint32(18).string(n.message);}if(n.errors!==void 0&&n.errors.length!==0){for(const d of n.errors){an.encode(d,e.uint32(26).fork()).ldelim();}}if(n.status!==void 0&&n.status!=="OK"){e.uint32(32).int32(xe(n.status));}if(n.details!==void 0&&n.details.length!==0){for(const d of n.details){$.encode(d,e.uint32(42).fork()).ldelim();}}if(n._unknownFields!==void 0){for(const[d,u]of Object.entries(n._unknownFields)){const i=parseInt(d,10);for(const r of u){e.uint32(i);e["_push"]((o,t,a)=>t.set(o,a),r.length,r);}}}return e},decode(n,e){const d=n instanceof F__default.default.Reader?n:F__default.default.Reader.create(n);let u=e===void 0?d.len:d.pos+e;const i=_i();while(d.pos<u){const r=d.uint32();switch(r>>>3){case 1:if(r!==8){break}i.code=d.int32();continue;case 2:if(r!==18){break}i.message=d.string();continue;case 3:if(r!==26){break}if(i.errors===void 0){i.errors=[];}i.errors.push(an.decode(d,d.uint32()));continue;case 4:if(r!==32){break}i.status=Bn(d.int32());continue;case 5:if(r!==42){break}if(i.details===void 0){i.details=[];}i.details.push($.decode(d,d.uint32()));continue}if((r&7)===4||r===0){break}const o=d.pos;d.skipType(r&7);const t=d.buf.slice(o,d.pos);if(i._unknownFields===void 0){i._unknownFields={};}const a=i._unknownFields[r];if(a===void 0){i._unknownFields[r]=[t];}else {a.push(t);}}return i},fromJSON(n){return {code:E(n.code)?Number(n.code):void 0,message:E(n.message)?String(n.message):void 0,errors:Array.isArray(n?.errors)?n.errors.map(e=>an.fromJSON(e)):void 0,status:E(n.status)?Bn(n.status):void 0,details:Array.isArray(n?.details)?n.details.map(e=>$.fromJSON(e)):void 0}},toJSON(n){const e={};if(n.code!==void 0&&n.code!==0){e.code=Math.round(n.code);}if(n.message!==void 0&&n.message!==""){e.message=n.message;}if(n.errors?.length){e.errors=n.errors.map(d=>an.toJSON(d));}if(n.status!==void 0&&n.status!=="OK"){e.status=we(n.status);}if(n.details?.length){e.details=n.details.map(d=>$.toJSON(d));}return e}};function E(n){return n!==null&&n!==void 0}var ln=class extends mosaic.Client{async setRequestCredentials(e,d,u=false){let i=false;for(let r of d){if(r instanceof mosaic.ApiKey)e.setHeader("X-Goog-Api-Key",r.key);else if(r instanceof mosaic.AccessToken){if(r.expired||u){await r.refresh();i=true;}e.setHeader(jsCommon.HttpHeader.AUTHORIZATION,r.toString());}else if(r instanceof tn){e.setHeader(jsCommon.HttpHeader.ORIGIN,e.url.origin);e.setHeader(jsCommon.HttpHeader.COOKIE,r.getCookie());e.setHeader(jsCommon.HttpHeader.AUTHORIZATION,r.getAuthorization(e.url.origin,e.https));e.setHeader("X-Goog-Authuser",r.authuser);}else {throw new jsCommon.InvalidArgumentError("Invalid credentials. Expected one of ApiKey, AccessToken, or GoogleCookie")}}return i}async perform(e){let d=await e.execute();if(d.ok&&this.xssi?.json===void 0)return d;let u=d.headers.get(jsCommon.HttpHeader.CONTENT_TYPE);if(!u)throw new jsCommon.ApiError(`${jsCommon.HttpHeader.CONTENT_TYPE} header missing`);let i=jsCommon.Mime.parse(u);let r=jsCommon.Mime.typeEquals(i,jsCommon.HttpContentType.JSON);if(r){let a=Buffer.from(this.xssi.json,"utf8");if(d.body.subarray(0,a.length).equals(a))d.body=d.body.subarray(a.length);}if(d.ok)return d;let o,t;if(r){let a=jsCommon.Json.decode(d.body.toString());let U=ge.fromJSON(a).error;o=U?.status;t=U?.message;}else if(jsCommon.Mime.typeEquals(i,jsCommon.HttpContentType.PROTOBUF)){let a;try{a=status.Status.decode(d.body);}catch(U){throw new jsCommon.ParseError(U)}if(a.code!==void 0)o=code.codeFromJSON(a.code);t=a.message;}else {throw new jsCommon.ApiError(`Unknown content type: ${u}`)}switch(o){case code.Code.INVALID_ARGUMENT:throw new jsCommon.InvalidArgumentError(t);case code.Code.FAILED_PRECONDITION:throw new jsCommon.PreconditionFailedError(t);case code.Code.UNAUTHENTICATED:throw new mosaic.InvalidCredentialsError(t);case code.Code.PERMISSION_DENIED:throw new jsCommon.PermissionDeniedError(t);case code.Code.NOT_FOUND:throw new jsCommon.NotFoundError(t);case code.Code.ALREADY_EXISTS:throw new jsCommon.ExistsError(t);case code.Code.RESOURCE_EXHAUSTED:throw new jsCommon.RateLimitedError(t);case code.Code.CANCELLED:throw new jsCommon.AbortedError(t);case code.Code.INTERNAL:case code.Code.UNKNOWN:throw new jsCommon.InternalServerError(t);case code.Code.UNIMPLEMENTED:throw new jsCommon.UnimplementedError(t);case code.Code.UNAVAILABLE:throw new jsCommon.UnavailableError(t);case code.Code.DEADLINE_EXCEEDED:throw new jsCommon.TimedOutError(t);default:throw mosaic.HttpClients.makeError(d,t,o)}}async request(e,d){if(d?.credentials)await this.setRequestCredentials(e,d.credentials);let u=this.perform(e);if(!d?.retryExpiredCredentials||!d?.credentials)return u;try{return await u}catch(i){if(!(i instanceof mosaic.InvalidCredentialsError))throw i;if(!await this.setRequestCredentials(e,d.credentials,true))throw i;return this.perform(e)}}};var Li=ln;var We=[{"name":"Google REST","id":"google.rest","options":{"apiFormatVersion":{"header":"X-Goog-Api-Format-Version","default":1,"enum":[1,2]},"apiKey":{"header":"X-Goog-Api-Key"},"fieldMask":{"header":"X-Goog-FieldMask"},"xgafv":{"query":"$.xgavf","default":1,"enum":[1,2]},"alt":{"query":"alt","enum":["json","media","proto"]},"key":{"query":"key"},"prettyPrint":{"query":"prettyPrint","default":true,"enum":[true,false]},"retryExpiredCredentials":{"default":false,"enum":[true,false]}},"xssi":{"json":")]}'"},"implementation":Li}];mosaic.DefaultServiceProvider.registerClients(We);

exports.AndroidOAuth = un;
exports.DefaultProjectRegistry = it;
exports.GoogleCookie = tn;
exports.MobileServices = D;
exports.ProjectRegistry = Ln;
