'use strict';

var mosaic = require('mosaic');
var jsCommon = require('js-common');
var se = require('long');
var p = require('protobufjs/minimal');
var protobufTs = require('protobuf-ts');
var crypto = require('crypto');
var code = require('protobuf-ts/protos/google/rpc/code');
var status = require('protobuf-ts/protos/google/rpc/status');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var se__default = /*#__PURE__*/_interopDefault(se);
var p__default = /*#__PURE__*/_interopDefault(p);

var Kn=Object.defineProperty;var t=(n,e)=>Kn(n,"name",{value:e,configurable:!0});var _n=(n,e)=>{for(var d in e)Kn(n,d,{get:e[d],enumerable:!0});};var P={};_n(P,{Auth:()=>xn,GOOGLE_PLAY_SERVICES_VERSION:()=>xe,GoogleAuthError:()=>x,GoogleAuthErrors:()=>en,checkin:()=>Be,createAndroidId:()=>Md});var en=(f=>(f.CLIENT_LOGIN_DISABLED="ClientLoginDisabled",f.SOCKET_TIMEOUT="SocketTimeout",f.SUCCESS="Ok",f.UNKNOWN_ERROR="UNKNOWN_ERR",f.NETWORK_ERROR="NetworkError",f.SERVICE_UNAVAILABLE="ServiceUnavailable",f.INTERNAL_ERROR="InternalError",f.ILLEGAL_ARGUMENT="IllegalArgument",f.BAD_AUTHENTICATION="BadAuthentication",f.BAD_TOKEN_REQUEST="BAD_REQUEST",f.EMPTY_CONSUMER_PKG_OR_SIG="EmptyConsumerPackageOrSig",f.NEEDS_2F="InvalidSecondFactor",f.NEEDS_POST_SIGN_IN_FLOW="PostSignInFlowRequired",f.NEEDS_BROWSER="NeedsBrowser",f.UNKNOWN="Unknown",f.NOT_VERIFIED="NotVerified",f.TERMS_NOT_AGREED="TermsNotAgreed",f.ACCOUNT_DISABLED="AccountDisabled",f.CAPTCHA="CaptchaRequired",f.ACCOUNT_DELETED="AccountDeleted",f.SERVICE_DISABLED="ServiceDisabled",f.CHALLENGE_REQUIRED="ChallengeRequired",f.NEED_PERMISSION="NeedPermission",f.NEED_REMOTE_CONSENT="NeedRemoteConsent",f.INVALID_SCOPE="INVALID_SCOPE",f.USER_CANCEL="UserCancel",f.PERMISSION_DENIED="PermissionDenied",f.RESTRICTED_CLIENT="RESTRICTED_CLIENT",f.INVALID_AUDIENCE="INVALID_AUDIENCE",f.UNREGISTERED_ON_API_CONSOLE="UNREGISTERED_ON_API_CONSOLE",f.THIRD_PARTY_DEVICE_MANAGEMENT_REQUIRED="ThirdPartyDeviceManagementRequired",f.DM_INTERNAL_ERROR="DeviceManagementInternalError",f.DM_SYNC_DISABLED="DeviceManagementSyncDisabled",f.DM_ADMIN_BLOCKED="DeviceManagementAdminBlocked",f.DM_ADMIN_PENDING_APPROVAL="DeviceManagementAdminPendingApproval",f.DM_STALE_SYNC_REQUIRED="DeviceManagementStaleSyncRequired",f.DM_DEACTIVATED="DeviceManagementDeactivated",f.DM_SCREENLOCK_REQUIRED="DeviceManagementScreenlockRequired",f.DM_REQUIRED="DeviceManagementRequired",f.DEVICE_MANAGEMENT_REQUIRED="DeviceManagementRequiredOrSyncDisabled",f.ALREADY_HAS_GMAIL="ALREADY_HAS_GMAIL",f.BAD_PASSWORD="WeakPassword",f.BAD_REQUEST="BadRequest",f.BAD_USERNAME="BadUsername",f.DELETED_GMAIL="DeletedGmail",f.EXISTING_USERNAME="ExistingUsername",f.LOGIN_FAIL="LoginFail",f.NOT_LOGGED_IN="NotLoggedIn",f.NO_GMAIL="NoGmail",f.REQUEST_DENIED="RequestDenied",f.SERVER_ERROR="ServerError",f.USERNAME_UNAVAILABLE="UsernameUnavailable",f.GPLUS_OTHER="GPlusOther",f.GPLUS_NICKNAME="GPlusNickname",f.GPLUS_INVALID_CHAR="GPlusInvalidChar",f.GPLUS_INTERSTITIAL="GPlusInterstitial",f.GPLUS_PROFILE_ERROR="ProfileUpgradeError",f.AUTH_SECURITY_ERROR="AuthSecurityError",f.AUTH_BINDING_ERROR="AuthBindingError",f))(en||{}),x=class n extends mosaic.OAuth.OAuthError{static{t(this,"GoogleAuthError");}static from(e){switch(e){case"BadRequest":case"BAD_REQUEST":case"IllegalArgument":return new jsCommon.InvalidArgumentError;case"BadAuthentication":return new mosaic.OAuth.InvalidCredentialsError;case"RESTRICTED_CLIENT":return new mosaic.OAuth.UnauthorizedClientError;case"UNREGISTERED_ON_API_CONSOLE":return new mosaic.OAuth.UnrecognizedIDClientError;case"INVALID_SCOPE":return new mosaic.OAuth.InvalidScopeError;case"PermissionDenied":return new jsCommon.PermissionDeniedError;case"ServerError":return new jsCommon.ServerError;case"InternalError":return new jsCommon.InternalServerError;case"ServiceUnavailable":return new jsCommon.UnavailableError;case"UserCancel":return new mosaic.OAuth.UserDeniedError}for(let[d,u]of jsCommon.KV.entries(en))if(e==u){e=d;break}return new n(e)}};var dn=class extends mosaic.Client.Client{static{t(this,"GoogleAuthClient");}async request(e,d){if(d?.credentials)throw new jsCommon.InvalidArgumentError("Credentials not supported for this client");e.body=jsCommon.URLParams.toString(e.body);let u=await e.execute(),i=u.headers.get(jsCommon.HttpHeader.CONTENT_TYPE);if(!i||!jsCommon.Mime.typeEquals(i,jsCommon.HttpContentType.TEXT))throw u.ok?new jsCommon.ApiError(`Expected content type '${jsCommon.HttpContentType.TEXT}' but got '${i}'`):mosaic.Client.HttpStatus.errorFrom(u);let r=u.body.toString().split(`
`),l=new Map;for(let a of r){let o=a.indexOf("="),E,Zn;if(o==-1)throw new jsCommon.ParseError("Expected '='");E=a.substring(0,o),Zn=a.substring(o+1),l.set(E,Zn);}if(l.has("Error")){let a=l.get("Error");if(a!="Ok")throw x.from(a)}if(!u.ok)throw mosaic.Client.HttpStatus.errorFrom(u);return u.body=l,u}};var fd=dn,Xn=[{name:"Google Auth",id:"google.android.auth",implementation:fd}];var $n={request:jsCommon.HttpContentType.URLFORM,response:jsCommon.HttpContentType.TEXT,encode:n=>n,decode:n=>n};var md=$n,Qn=[{name:"Google Auth Transport",id:"googleauth",implementation:md}];function Un(n){switch(n){case 0:case"NO_RESTRICTION":return "NO_RESTRICTION";case 1:case"SW_DEVICE":return "SW_DEVICE";case 2:case"LATCHSKY_DEVICE":return "LATCHSKY_DEVICE";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(Un,"unnamed8449FromJSON");function zn(n){switch(n){case"NO_RESTRICTION":return "NO_RESTRICTION";case"SW_DEVICE":return "SW_DEVICE";case"LATCHSKY_DEVICE":return "LATCHSKY_DEVICE";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(zn,"unnamed8449ToJSON");function jn(n){switch(n){case"NO_RESTRICTION":return 0;case"SW_DEVICE":return 1;case"LATCHSKY_DEVICE":return 2;case"UNRECOGNIZED":default:return -1}}t(jn,"unnamed8449ToNumber");function _d(){return {}}t(_d,"createBaseUnnamed8452");var M={encode(n,e=p__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!==""&&e.uint32(10).string(n.unnamedField1),n.unnamedField2!==void 0&&n.unnamedField2!==""&&e.uint32(18).string(n.unnamedField2),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=_d();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.unnamedField1=d.string();continue;case 2:if(r!==18)break;i.unnamedField2=d.string();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {unnamedField1:ne(n.unnamedField1)?String(n.unnamedField1):void 0,unnamedField2:ne(n.unnamedField2)?String(n.unnamedField2):void 0}},toJSON(n){let e={};return n.unnamedField1!==void 0&&n.unnamedField1!==""&&(e.unnamedField1=n.unnamedField1),n.unnamedField2!==void 0&&n.unnamedField2!==""&&(e.unnamedField2=n.unnamedField2),e}};function ne(n){return n!=null}t(ne,"isSet");function sd(){return {}}t(sd,"createBaseUnnamed8454");var g={encode(n,e=p__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!==""&&e.uint32(10).string(n.unnamedField1),n.unnamedField2!==void 0&&n.unnamedField2.length!==0&&e.uint32(18).bytes(n.unnamedField2),n.unnamedField5!==void 0&&n.unnamedField5.length!==0&&e.uint32(42).bytes(n.unnamedField5),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=sd();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.unnamedField1=d.string();continue;case 2:if(r!==18)break;i.unnamedField2=d.bytes();continue;case 5:if(r!==42)break;i.unnamedField5=d.bytes();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {unnamedField1:pn(n.unnamedField1)?String(n.unnamedField1):void 0,unnamedField2:pn(n.unnamedField2)?Buffer.from(ee(n.unnamedField2)):void 0,unnamedField5:pn(n.unnamedField5)?Buffer.from(ee(n.unnamedField5)):void 0}},toJSON(n){let e={};return n.unnamedField1!==void 0&&n.unnamedField1!==""&&(e.unnamedField1=n.unnamedField1),n.unnamedField2!==void 0&&n.unnamedField2.length!==0&&(e.unnamedField2=de(n.unnamedField2)),n.unnamedField5!==void 0&&n.unnamedField5.length!==0&&(e.unnamedField5=de(n.unnamedField5)),e}},S=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw "Unable to locate global object"})();function ee(n){if(S.Buffer)return Uint8Array.from(S.Buffer.from(n,"base64"));{let e=S.atob(n),d=new Uint8Array(e.length);for(let u=0;u<e.length;++u)d[u]=e.charCodeAt(u);return d}}t(ee,"bytesFromBase64");function de(n){if(S.Buffer)return S.Buffer.from(n).toString("base64");{let e=[];return n.forEach(d=>{e.push(String.fromCharCode(d));}),S.btoa(e.join(""))}}t(de,"base64FromBytes");function pn(n){return n!=null}t(pn,"isSet");function Nn(n){switch(n){case 0:case"Unnamed10361_value_0":return "Unnamed10361_value_0";case 1:case"Unnamed10361_value_1":return "Unnamed10361_value_1";case 2:case"Unnamed10361_value_2":return "Unnamed10361_value_2";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(Nn,"unnamed10361FromJSON");function ie(n){switch(n){case"Unnamed10361_value_0":return "Unnamed10361_value_0";case"Unnamed10361_value_1":return "Unnamed10361_value_1";case"Unnamed10361_value_2":return "Unnamed10361_value_2";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(ie,"unnamed10361ToJSON");function re(n){switch(n){case"Unnamed10361_value_0":return 0;case"Unnamed10361_value_1":return 1;case"Unnamed10361_value_2":return 2;case"UNRECOGNIZED":default:return -1}}t(re,"unnamed10361ToNumber");function vn(n){switch(n){case 0:case"Unnamed10362_value_0":return "Unnamed10362_value_0";case 1:case"Unnamed10362_value_1":return "Unnamed10362_value_1";case 2:case"Unnamed10362_value_2":return "Unnamed10362_value_2";case 3:case"Unnamed10362_value_3":return "Unnamed10362_value_3";case 4:case"Unnamed10362_value_4":return "Unnamed10362_value_4";case 5:case"Unnamed10362_value_5":return "Unnamed10362_value_5";case 6:case"Unnamed10362_value_6":return "Unnamed10362_value_6";case 7:case"Unnamed10362_value_7":return "Unnamed10362_value_7";case 8:case"Unnamed10362_value_8":return "Unnamed10362_value_8";case 9:case"Unnamed10362_value_9":return "Unnamed10362_value_9";case 10:case"Unnamed10362_value_10":return "Unnamed10362_value_10";case 11:case"Unnamed10362_value_11":return "Unnamed10362_value_11";case 12:case"Unnamed10362_value_12":return "Unnamed10362_value_12";case 13:case"Unnamed10362_value_13":return "Unnamed10362_value_13";case 14:case"Unnamed10362_value_14":return "Unnamed10362_value_14";case 15:case"Unnamed10362_value_15":return "Unnamed10362_value_15";case 16:case"Unnamed10362_value_16":return "Unnamed10362_value_16";case 17:case"Unnamed10362_value_17":return "Unnamed10362_value_17";case 18:case"Unnamed10362_value_18":return "Unnamed10362_value_18";case 19:case"Unnamed10362_value_19":return "Unnamed10362_value_19";case 20:case"Unnamed10362_value_20":return "Unnamed10362_value_20";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(vn,"unnamed10362FromJSON");function ue(n){switch(n){case"Unnamed10362_value_0":return "Unnamed10362_value_0";case"Unnamed10362_value_1":return "Unnamed10362_value_1";case"Unnamed10362_value_2":return "Unnamed10362_value_2";case"Unnamed10362_value_3":return "Unnamed10362_value_3";case"Unnamed10362_value_4":return "Unnamed10362_value_4";case"Unnamed10362_value_5":return "Unnamed10362_value_5";case"Unnamed10362_value_6":return "Unnamed10362_value_6";case"Unnamed10362_value_7":return "Unnamed10362_value_7";case"Unnamed10362_value_8":return "Unnamed10362_value_8";case"Unnamed10362_value_9":return "Unnamed10362_value_9";case"Unnamed10362_value_10":return "Unnamed10362_value_10";case"Unnamed10362_value_11":return "Unnamed10362_value_11";case"Unnamed10362_value_12":return "Unnamed10362_value_12";case"Unnamed10362_value_13":return "Unnamed10362_value_13";case"Unnamed10362_value_14":return "Unnamed10362_value_14";case"Unnamed10362_value_15":return "Unnamed10362_value_15";case"Unnamed10362_value_16":return "Unnamed10362_value_16";case"Unnamed10362_value_17":return "Unnamed10362_value_17";case"Unnamed10362_value_18":return "Unnamed10362_value_18";case"Unnamed10362_value_19":return "Unnamed10362_value_19";case"Unnamed10362_value_20":return "Unnamed10362_value_20";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(ue,"unnamed10362ToJSON");function te(n){switch(n){case"Unnamed10362_value_0":return 0;case"Unnamed10362_value_1":return 1;case"Unnamed10362_value_2":return 2;case"Unnamed10362_value_3":return 3;case"Unnamed10362_value_4":return 4;case"Unnamed10362_value_5":return 5;case"Unnamed10362_value_6":return 6;case"Unnamed10362_value_7":return 7;case"Unnamed10362_value_8":return 8;case"Unnamed10362_value_9":return 9;case"Unnamed10362_value_10":return 10;case"Unnamed10362_value_11":return 11;case"Unnamed10362_value_12":return 12;case"Unnamed10362_value_13":return 13;case"Unnamed10362_value_14":return 14;case"Unnamed10362_value_15":return 15;case"Unnamed10362_value_16":return 16;case"Unnamed10362_value_17":return 17;case"Unnamed10362_value_18":return 18;case"Unnamed10362_value_19":return 19;case"Unnamed10362_value_20":return 20;case"UNRECOGNIZED":default:return -1}}t(te,"unnamed10362ToNumber");function Ud(){return {}}t(Ud,"createBaseUnnamed8460");var H={encode(n,e=p__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!=="Unnamed10362_value_0"&&e.uint32(8).int32(te(n.unnamedField1)),n.unnamedField2!==void 0&&n.unnamedField2!==0&&e.uint32(16).int32(n.unnamedField2),n.unnamedField3!==void 0&&n.unnamedField3!==""&&e.uint32(26).string(n.unnamedField3),n.unnamedField4!==void 0&&n.unnamedField4!==""&&e.uint32(34).string(n.unnamedField4),n.unnamedField5===!0&&e.uint32(40).bool(n.unnamedField5),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Ud();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==8)break;i.unnamedField1=vn(d.int32());continue;case 2:if(r!==16)break;i.unnamedField2=d.int32();continue;case 3:if(r!==26)break;i.unnamedField3=d.string();continue;case 4:if(r!==34)break;i.unnamedField4=d.string();continue;case 5:if(r!==40)break;i.unnamedField5=d.bool();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {unnamedField1:G(n.unnamedField1)?vn(n.unnamedField1):void 0,unnamedField2:G(n.unnamedField2)?Number(n.unnamedField2):void 0,unnamedField3:G(n.unnamedField3)?String(n.unnamedField3):void 0,unnamedField4:G(n.unnamedField4)?String(n.unnamedField4):void 0,unnamedField5:G(n.unnamedField5)?!!n.unnamedField5:void 0}},toJSON(n){let e={};return n.unnamedField1!==void 0&&n.unnamedField1!=="Unnamed10362_value_0"&&(e.unnamedField1=ue(n.unnamedField1)),n.unnamedField2!==void 0&&n.unnamedField2!==0&&(e.unnamedField2=Math.round(n.unnamedField2)),n.unnamedField3!==void 0&&n.unnamedField3!==""&&(e.unnamedField3=n.unnamedField3),n.unnamedField4!==void 0&&n.unnamedField4!==""&&(e.unnamedField4=n.unnamedField4),n.unnamedField5===!0&&(e.unnamedField5=n.unnamedField5),e}};function G(n){return n!=null}t(G,"isSet");function An(n){switch(n){case 1:case"OTHER":return "OTHER";case 2:case"PHONE":return "PHONE";case 3:case"TABLET":return "TABLET";case 4:case"TV":return "TV";case 5:case"GLASS":return "GLASS";case 6:case"CAR":return "CAR";case 7:case"WEARABLE":return "WEARABLE";case 8:case"THINGS":return "THINGS";case 9:case"CHROMEOS_ARC":return "CHROMEOS_ARC";case 10:case"BSTAR":return "BSTAR";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(An,"unnamed8464FromJSON");function ae(n){switch(n){case"OTHER":return "OTHER";case"PHONE":return "PHONE";case"TABLET":return "TABLET";case"TV":return "TV";case"GLASS":return "GLASS";case"CAR":return "CAR";case"WEARABLE":return "WEARABLE";case"THINGS":return "THINGS";case"CHROMEOS_ARC":return "CHROMEOS_ARC";case"BSTAR":return "BSTAR";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(ae,"unnamed8464ToJSON");function oe(n){switch(n){case"OTHER":return 1;case"PHONE":return 2;case"TABLET":return 3;case"TV":return 4;case"GLASS":return 5;case"CAR":return 6;case"WEARABLE":return 7;case"THINGS":return 8;case"CHROMEOS_ARC":return 9;case"BSTAR":return 10;case"UNRECOGNIZED":default:return -1}}t(oe,"unnamed8464ToNumber");function rn(n){switch(n){case 0:case"Unnamed10363_value_0":return "Unnamed10363_value_0";case 1:case"Unnamed10363_value_1":return "Unnamed10363_value_1";case 2:case"Unnamed10363_value_2":return "Unnamed10363_value_2";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(rn,"unnamed10363FromJSON");function le(n){switch(n){case"Unnamed10363_value_0":return "Unnamed10363_value_0";case"Unnamed10363_value_1":return "Unnamed10363_value_1";case"Unnamed10363_value_2":return "Unnamed10363_value_2";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(le,"unnamed10363ToJSON");function fe(n){switch(n){case"Unnamed10363_value_0":return 0;case"Unnamed10363_value_1":return 1;case"Unnamed10363_value_2":return 2;case"UNRECOGNIZED":default:return -1}}t(fe,"unnamed10363ToNumber");function Ed(){return {}}t(Ed,"createBaseUnnamed8467");var J={encode(n,e=p__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!==""&&e.uint32(10).string(n.unnamedField1),n.unnamedField2!==void 0&&n.unnamedField2!==""&&e.uint32(18).string(n.unnamedField2),n.unnamedField3!==void 0&&n.unnamedField3!==""&&e.uint32(26).string(n.unnamedField3),n.unnamedField4!==void 0&&n.unnamedField4.length!==0){e.uint32(34).fork();for(let d of n.unnamedField4)e.int32(fe(d));e.ldelim();}if(n.unnamedField6!==void 0&&n.unnamedField6!==""&&e.uint32(50).string(n.unnamedField6),n.unnamedField7!==void 0&&n.unnamedField7!==""&&e.uint32(58).string(n.unnamedField7),n.unnamedField8!==void 0&&n.unnamedField8.length!==0&&e.uint32(66).bytes(n.unnamedField8),n.unnamedField9!==void 0&&n.unnamedField9!==0&&e.uint32(72).int32(n.unnamedField9),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Ed();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.unnamedField1=d.string();continue;case 2:if(r!==18)break;i.unnamedField2=d.string();continue;case 3:if(r!==26)break;i.unnamedField3=d.string();continue;case 4:if(r===32){i.unnamedField4===void 0&&(i.unnamedField4=[]),i.unnamedField4.push(rn(d.int32()));continue}if(r===34){i.unnamedField4===void 0&&(i.unnamedField4=[]);let E=d.uint32()+d.pos;for(;d.pos<E;)i.unnamedField4.push(rn(d.int32()));continue}break;case 6:if(r!==50)break;i.unnamedField6=d.string();continue;case 7:if(r!==58)break;i.unnamedField7=d.string();continue;case 8:if(r!==66)break;i.unnamedField8=d.bytes();continue;case 9:if(r!==72)break;i.unnamedField9=d.int32();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {unnamedField1:v(n.unnamedField1)?String(n.unnamedField1):void 0,unnamedField2:v(n.unnamedField2)?String(n.unnamedField2):void 0,unnamedField3:v(n.unnamedField3)?String(n.unnamedField3):void 0,unnamedField4:Array.isArray(n?.unnamedField4)?n.unnamedField4.map(e=>rn(e)):void 0,unnamedField6:v(n.unnamedField6)?String(n.unnamedField6):void 0,unnamedField7:v(n.unnamedField7)?String(n.unnamedField7):void 0,unnamedField8:v(n.unnamedField8)?Buffer.from(Fd(n.unnamedField8)):void 0,unnamedField9:v(n.unnamedField9)?Number(n.unnamedField9):void 0}},toJSON(n){let e={};return n.unnamedField1!==void 0&&n.unnamedField1!==""&&(e.unnamedField1=n.unnamedField1),n.unnamedField2!==void 0&&n.unnamedField2!==""&&(e.unnamedField2=n.unnamedField2),n.unnamedField3!==void 0&&n.unnamedField3!==""&&(e.unnamedField3=n.unnamedField3),n.unnamedField4?.length&&(e.unnamedField4=n.unnamedField4.map(d=>le(d))),n.unnamedField6!==void 0&&n.unnamedField6!==""&&(e.unnamedField6=n.unnamedField6),n.unnamedField7!==void 0&&n.unnamedField7!==""&&(e.unnamedField7=n.unnamedField7),n.unnamedField8!==void 0&&n.unnamedField8.length!==0&&(e.unnamedField8=pd(n.unnamedField8)),n.unnamedField9!==void 0&&n.unnamedField9!==0&&(e.unnamedField9=Math.round(n.unnamedField9)),e}},y=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw "Unable to locate global object"})();function Fd(n){if(y.Buffer)return Uint8Array.from(y.Buffer.from(n,"base64"));{let e=y.atob(n),d=new Uint8Array(e.length);for(let u=0;u<e.length;++u)d[u]=e.charCodeAt(u);return d}}t(Fd,"bytesFromBase64");function pd(n){if(y.Buffer)return y.Buffer.from(n).toString("base64");{let e=[];return n.forEach(d=>{e.push(String.fromCharCode(d));}),y.btoa(e.join(""))}}t(pd,"base64FromBytes");function v(n){return n!=null}t(v,"isSet");function Nd(){return {}}t(Nd,"createBaseUnnamed8457");var W={encode(n,e=p__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!==""&&e.uint32(10).string(n.unnamedField1),n.unnamedField2!==void 0&&n.unnamedField2!==""&&e.uint32(18).string(n.unnamedField2),n.unnamedField3!==void 0&&n.unnamedField3!==""&&e.uint32(26).string(n.unnamedField3),n.unnamedField4!==void 0&&n.unnamedField4!==""&&e.uint32(34).string(n.unnamedField4),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Nd();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.unnamedField1=d.string();continue;case 2:if(r!==18)break;i.unnamedField2=d.string();continue;case 3:if(r!==26)break;i.unnamedField3=d.string();continue;case 4:if(r!==34)break;i.unnamedField4=d.string();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {unnamedField1:un(n.unnamedField1)?String(n.unnamedField1):void 0,unnamedField2:un(n.unnamedField2)?String(n.unnamedField2):void 0,unnamedField3:un(n.unnamedField3)?String(n.unnamedField3):void 0,unnamedField4:un(n.unnamedField4)?String(n.unnamedField4):void 0}},toJSON(n){let e={};return n.unnamedField1!==void 0&&n.unnamedField1!==""&&(e.unnamedField1=n.unnamedField1),n.unnamedField2!==void 0&&n.unnamedField2!==""&&(e.unnamedField2=n.unnamedField2),n.unnamedField3!==void 0&&n.unnamedField3!==""&&(e.unnamedField3=n.unnamedField3),n.unnamedField4!==void 0&&n.unnamedField4!==""&&(e.unnamedField4=n.unnamedField4),e}};function un(n){return n!=null}t(un,"isSet");function kn(n){switch(n){case 1:case"BASE_CLIENT_ID":return "BASE_CLIENT_ID";case 2:case"SEARCH_CLIENT_ID":return "SEARCH_CLIENT_ID";case 3:case"VOICESEARCH_CLIENT_ID":return "VOICESEARCH_CLIENT_ID";case 4:case"MAPS_CLIENT_ID":return "MAPS_CLIENT_ID";case 5:case"YOUTUBE_CLIENT_ID":return "YOUTUBE_CLIENT_ID";case 6:case"MARKET_CLIENT_ID":return "MARKET_CLIENT_ID";case 7:case"SHOPPER_CLIENT_ID":return "SHOPPER_CLIENT_ID";case 8:case"WALLET_CLIENT_ID":return "WALLET_CLIENT_ID";case 9:case"CHROME_CLIENT_ID":return "CHROME_CLIENT_ID";case 10:case"PLAYTX_CLIENT_ID":return "PLAYTX_CLIENT_ID";case 11:case"PLAYAX_CLIENT_ID":return "PLAYAX_CLIENT_ID";case 12:case"PROGRAM_CLIENT_ID":return "PROGRAM_CLIENT_ID";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(kn,"unnamed8465FromJSON");function ce(n){switch(n){case"BASE_CLIENT_ID":return "BASE_CLIENT_ID";case"SEARCH_CLIENT_ID":return "SEARCH_CLIENT_ID";case"VOICESEARCH_CLIENT_ID":return "VOICESEARCH_CLIENT_ID";case"MAPS_CLIENT_ID":return "MAPS_CLIENT_ID";case"YOUTUBE_CLIENT_ID":return "YOUTUBE_CLIENT_ID";case"MARKET_CLIENT_ID":return "MARKET_CLIENT_ID";case"SHOPPER_CLIENT_ID":return "SHOPPER_CLIENT_ID";case"WALLET_CLIENT_ID":return "WALLET_CLIENT_ID";case"CHROME_CLIENT_ID":return "CHROME_CLIENT_ID";case"PLAYTX_CLIENT_ID":return "PLAYTX_CLIENT_ID";case"PLAYAX_CLIENT_ID":return "PLAYAX_CLIENT_ID";case"PROGRAM_CLIENT_ID":return "PROGRAM_CLIENT_ID";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(ce,"unnamed8465ToJSON");function me(n){switch(n){case"BASE_CLIENT_ID":return 1;case"SEARCH_CLIENT_ID":return 2;case"VOICESEARCH_CLIENT_ID":return 3;case"MAPS_CLIENT_ID":return 4;case"YOUTUBE_CLIENT_ID":return 5;case"MARKET_CLIENT_ID":return 6;case"SHOPPER_CLIENT_ID":return 7;case"WALLET_CLIENT_ID":return 8;case"CHROME_CLIENT_ID":return 9;case"PLAYTX_CLIENT_ID":return 10;case"PLAYAX_CLIENT_ID":return 11;case"PROGRAM_CLIENT_ID":return 12;case"UNRECOGNIZED":default:return -1}}t(me,"unnamed8465ToNumber");function vd(){return {}}t(vd,"createBaseUnnamed8466");var V={encode(n,e=p__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!=="BASE_CLIENT_ID"&&e.uint32(8).int32(me(n.unnamedField1)),n.unnamedField2!==void 0&&n.unnamedField2!==""&&e.uint32(18).string(n.unnamedField2),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=vd();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==8)break;i.unnamedField1=kn(d.int32());continue;case 2:if(r!==18)break;i.unnamedField2=d.string();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {unnamedField1:_e(n.unnamedField1)?kn(n.unnamedField1):void 0,unnamedField2:_e(n.unnamedField2)?String(n.unnamedField2):void 0}},toJSON(n){let e={};return n.unnamedField1!==void 0&&n.unnamedField1!=="BASE_CLIENT_ID"&&(e.unnamedField1=ce(n.unnamedField1)),n.unnamedField2!==void 0&&n.unnamedField2!==""&&(e.unnamedField2=n.unnamedField2),e}};function _e(n){return n!=null}t(_e,"isSet");function Id(){return {}}t(Id,"createBaseAndroidBuildProto");var Z={encode(n,e=p__default.default.Writer.create()){if(n.id!==void 0&&n.id!==""&&e.uint32(10).string(n.id),n.product!==void 0&&n.product!==""&&e.uint32(18).string(n.product),n.carrier!==void 0&&n.carrier!==""&&e.uint32(26).string(n.carrier),n.radio!==void 0&&n.radio!==""&&e.uint32(34).string(n.radio),n.bootloader!==void 0&&n.bootloader!==""&&e.uint32(42).string(n.bootloader),n.client!==void 0&&n.client!==""&&e.uint32(50).string(n.client),n.timestamp!==void 0&&n.timestamp!==BigInt("0")&&e.uint32(56).int64(n.timestamp.toString()),n.googleServices!==void 0&&n.googleServices!==0&&e.uint32(64).int32(n.googleServices),n.device!==void 0&&n.device!==""&&e.uint32(74).string(n.device),n.sdkVersion!==void 0&&n.sdkVersion!==0&&e.uint32(80).int32(n.sdkVersion),n.model!==void 0&&n.model!==""&&e.uint32(90).string(n.model),n.manufacturer!==void 0&&n.manufacturer!==""&&e.uint32(98).string(n.manufacturer),n.buildProduct!==void 0&&n.buildProduct!==""&&e.uint32(106).string(n.buildProduct),n.otaInstalled===!0&&e.uint32(112).bool(n.otaInstalled),n.unnamedField15!==void 0&&n.unnamedField15.length!==0)for(let d of n.unnamedField15)V.encode(d,e.uint32(122).fork()).ldelim();if(n.unnamedField19!==void 0&&n.unnamedField19!==""&&e.uint32(154).string(n.unnamedField19),n.unnamedField23!==void 0&&n.unnamedField23.length!==0)for(let d of n.unnamedField23)W.encode(d,e.uint32(186).fork()).ldelim();if(n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Id();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.id=d.string();continue;case 2:if(r!==18)break;i.product=d.string();continue;case 3:if(r!==26)break;i.carrier=d.string();continue;case 4:if(r!==34)break;i.radio=d.string();continue;case 5:if(r!==42)break;i.bootloader=d.string();continue;case 6:if(r!==50)break;i.client=d.string();continue;case 7:if(r!==56)break;i.timestamp=Ad(d.int64());continue;case 8:if(r!==64)break;i.googleServices=d.int32();continue;case 9:if(r!==74)break;i.device=d.string();continue;case 10:if(r!==80)break;i.sdkVersion=d.int32();continue;case 11:if(r!==90)break;i.model=d.string();continue;case 12:if(r!==98)break;i.manufacturer=d.string();continue;case 13:if(r!==106)break;i.buildProduct=d.string();continue;case 14:if(r!==112)break;i.otaInstalled=d.bool();continue;case 15:if(r!==122)break;i.unnamedField15===void 0&&(i.unnamedField15=[]),i.unnamedField15.push(V.decode(d,d.uint32()));continue;case 19:if(r!==154)break;i.unnamedField19=d.string();continue;case 23:if(r!==186)break;i.unnamedField23===void 0&&(i.unnamedField23=[]),i.unnamedField23.push(W.decode(d,d.uint32()));continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {id:_(n.id)?String(n.id):void 0,product:_(n.product)?String(n.product):void 0,carrier:_(n.carrier)?String(n.carrier):void 0,radio:_(n.radio)?String(n.radio):void 0,bootloader:_(n.bootloader)?String(n.bootloader):void 0,client:_(n.client)?String(n.client):void 0,timestamp:_(n.timestamp)?BigInt(n.timestamp):void 0,googleServices:_(n.google_services)?Number(n.google_services):void 0,device:_(n.device)?String(n.device):void 0,sdkVersion:_(n.sdk_version)?Number(n.sdk_version):void 0,model:_(n.model)?String(n.model):void 0,manufacturer:_(n.manufacturer)?String(n.manufacturer):void 0,buildProduct:_(n.build_product)?String(n.build_product):void 0,otaInstalled:_(n.ota_installed)?!!n.ota_installed:void 0,unnamedField15:Array.isArray(n?.unnamedField15)?n.unnamedField15.map(e=>V.fromJSON(e)):void 0,unnamedField19:_(n.unnamedField19)?String(n.unnamedField19):void 0,unnamedField23:Array.isArray(n?.unnamedField23)?n.unnamedField23.map(e=>W.fromJSON(e)):void 0}},toJSON(n){let e={};return n.id!==void 0&&n.id!==""&&(e.id=n.id),n.product!==void 0&&n.product!==""&&(e.product=n.product),n.carrier!==void 0&&n.carrier!==""&&(e.carrier=n.carrier),n.radio!==void 0&&n.radio!==""&&(e.radio=n.radio),n.bootloader!==void 0&&n.bootloader!==""&&(e.bootloader=n.bootloader),n.client!==void 0&&n.client!==""&&(e.client=n.client),n.timestamp!==void 0&&n.timestamp!==BigInt("0")&&(e.timestamp=n.timestamp.toString()),n.googleServices!==void 0&&n.googleServices!==0&&(e.google_services=Math.round(n.googleServices)),n.device!==void 0&&n.device!==""&&(e.device=n.device),n.sdkVersion!==void 0&&n.sdkVersion!==0&&(e.sdk_version=Math.round(n.sdkVersion)),n.model!==void 0&&n.model!==""&&(e.model=n.model),n.manufacturer!==void 0&&n.manufacturer!==""&&(e.manufacturer=n.manufacturer),n.buildProduct!==void 0&&n.buildProduct!==""&&(e.build_product=n.buildProduct),n.otaInstalled===!0&&(e.ota_installed=n.otaInstalled),n.unnamedField15?.length&&(e.unnamedField15=n.unnamedField15.map(d=>V.toJSON(d))),n.unnamedField19!==void 0&&n.unnamedField19!==""&&(e.unnamedField19=n.unnamedField19),n.unnamedField23?.length&&(e.unnamedField23=n.unnamedField23.map(d=>W.toJSON(d))),e}};function Ad(n){return BigInt(n.toString())}t(Ad,"longToBigint");p__default.default.util.Long!==se__default.default&&(p__default.default.util.Long=se__default.default,p__default.default.configure());function _(n){return n!=null}t(_,"isSet");function Sd(){return {}}t(Sd,"createBaseAndroidEventProto");var K={encode(n,e=p__default.default.Writer.create()){if(n.tag!==void 0&&n.tag!==""&&e.uint32(10).string(n.tag),n.value!==void 0&&n.value!==""&&e.uint32(18).string(n.value),n.timeMsec!==void 0&&n.timeMsec!==BigInt("0")&&e.uint32(24).int64(n.timeMsec.toString()),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Sd();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.tag=d.string();continue;case 2:if(r!==18)break;i.value=d.string();continue;case 3:if(r!==24)break;i.timeMsec=yd(d.int64());continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {tag:Cn(n.tag)?String(n.tag):void 0,value:Cn(n.value)?String(n.value):void 0,timeMsec:Cn(n.time_msec)?BigInt(n.time_msec):void 0}},toJSON(n){let e={};return n.tag!==void 0&&n.tag!==""&&(e.tag=n.tag),n.value!==void 0&&n.value!==""&&(e.value=n.value),n.timeMsec!==void 0&&n.timeMsec!==BigInt("0")&&(e.time_msec=n.timeMsec.toString()),e}};function yd(n){return BigInt(n.toString())}t(yd,"longToBigint");p__default.default.util.Long!==se__default.default&&(p__default.default.util.Long=se__default.default,p__default.default.configure());function Cn(n){return n!=null}t(Cn,"isSet");function kd(){return {}}t(kd,"createBaseAndroidCheckinProto");var Y={encode(n,e=p__default.default.Writer.create()){if(n.build!==void 0&&Z.encode(n.build,e.uint32(10).fork()).ldelim(),n.lastCheckinMsec!==void 0&&n.lastCheckinMsec!==BigInt("0")&&e.uint32(16).int64(n.lastCheckinMsec.toString()),n.event!==void 0&&n.event.length!==0)for(let d of n.event)K.encode(d,e.uint32(26).fork()).ldelim();if(n.requestedGroup!==void 0&&n.requestedGroup.length!==0)for(let d of n.requestedGroup)e.uint32(42).string(d);if(n.cellOperator!==void 0&&n.cellOperator!==""&&e.uint32(50).string(n.cellOperator),n.simOperator!==void 0&&n.simOperator!==""&&e.uint32(58).string(n.simOperator),n.roaming!==void 0&&n.roaming!==""&&e.uint32(66).string(n.roaming),n.userNumber!==void 0&&n.userNumber!==0&&e.uint32(72).int32(n.userNumber),n.unnamedField14!==void 0&&n.unnamedField14!=="OTHER"&&e.uint32(112).int32(oe(n.unnamedField14)),n.unnamedField15!==void 0&&H.encode(n.unnamedField15,e.uint32(122).fork()).ldelim(),n.unnamedField16!==void 0&&n.unnamedField16.length!==0)for(let d of n.unnamedField16)J.encode(d,e.uint32(130).fork()).ldelim();if(n.unnamedField18===!0&&e.uint32(144).bool(n.unnamedField18),n.unnamedField19!==void 0&&n.unnamedField19!==""&&e.uint32(154).string(n.unnamedField19),n.unnamedField20!==void 0&&n.unnamedField20!=="Unnamed10361_value_0"&&e.uint32(160).int32(re(n.unnamedField20)),n.unnamedField21!==void 0&&n.unnamedField21!==0&&e.uint32(168).int32(n.unnamedField21),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=kd();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.build=Z.decode(d,d.uint32());continue;case 2:if(r!==16)break;i.lastCheckinMsec=hd(d.int64());continue;case 3:if(r!==26)break;i.event===void 0&&(i.event=[]),i.event.push(K.decode(d,d.uint32()));continue;case 5:if(r!==42)break;i.requestedGroup===void 0&&(i.requestedGroup=[]),i.requestedGroup.push(d.string());continue;case 6:if(r!==50)break;i.cellOperator=d.string();continue;case 7:if(r!==58)break;i.simOperator=d.string();continue;case 8:if(r!==66)break;i.roaming=d.string();continue;case 9:if(r!==72)break;i.userNumber=d.int32();continue;case 14:if(r!==112)break;i.unnamedField14=An(d.int32());continue;case 15:if(r!==122)break;i.unnamedField15=H.decode(d,d.uint32());continue;case 16:if(r!==130)break;i.unnamedField16===void 0&&(i.unnamedField16=[]),i.unnamedField16.push(J.decode(d,d.uint32()));continue;case 18:if(r!==144)break;i.unnamedField18=d.bool();continue;case 19:if(r!==154)break;i.unnamedField19=d.string();continue;case 20:if(r!==160)break;i.unnamedField20=Nn(d.int32());continue;case 21:if(r!==168)break;i.unnamedField21=d.int32();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {build:U(n.build)?Z.fromJSON(n.build):void 0,lastCheckinMsec:U(n.last_checkin_msec)?BigInt(n.last_checkin_msec):void 0,event:Array.isArray(n?.event)?n.event.map(e=>K.fromJSON(e)):void 0,requestedGroup:Array.isArray(n?.requested_group)?n.requested_group.map(e=>String(e)):void 0,cellOperator:U(n.cell_operator)?String(n.cell_operator):void 0,simOperator:U(n.sim_operator)?String(n.sim_operator):void 0,roaming:U(n.roaming)?String(n.roaming):void 0,userNumber:U(n.user_number)?Number(n.user_number):void 0,unnamedField14:U(n.unnamedField14)?An(n.unnamedField14):void 0,unnamedField15:U(n.unnamedField15)?H.fromJSON(n.unnamedField15):void 0,unnamedField16:Array.isArray(n?.unnamedField16)?n.unnamedField16.map(e=>J.fromJSON(e)):void 0,unnamedField18:U(n.unnamedField18)?!!n.unnamedField18:void 0,unnamedField19:U(n.unnamedField19)?String(n.unnamedField19):void 0,unnamedField20:U(n.unnamedField20)?Nn(n.unnamedField20):void 0,unnamedField21:U(n.unnamedField21)?Number(n.unnamedField21):void 0}},toJSON(n){let e={};return n.build!==void 0&&(e.build=Z.toJSON(n.build)),n.lastCheckinMsec!==void 0&&n.lastCheckinMsec!==BigInt("0")&&(e.last_checkin_msec=n.lastCheckinMsec.toString()),n.event?.length&&(e.event=n.event.map(d=>K.toJSON(d))),n.requestedGroup?.length&&(e.requested_group=n.requestedGroup),n.cellOperator!==void 0&&n.cellOperator!==""&&(e.cell_operator=n.cellOperator),n.simOperator!==void 0&&n.simOperator!==""&&(e.sim_operator=n.simOperator),n.roaming!==void 0&&n.roaming!==""&&(e.roaming=n.roaming),n.userNumber!==void 0&&n.userNumber!==0&&(e.user_number=Math.round(n.userNumber)),n.unnamedField14!==void 0&&n.unnamedField14!=="OTHER"&&(e.unnamedField14=ae(n.unnamedField14)),n.unnamedField15!==void 0&&(e.unnamedField15=H.toJSON(n.unnamedField15)),n.unnamedField16?.length&&(e.unnamedField16=n.unnamedField16.map(d=>J.toJSON(d))),n.unnamedField18===!0&&(e.unnamedField18=n.unnamedField18),n.unnamedField19!==void 0&&n.unnamedField19!==""&&(e.unnamedField19=n.unnamedField19),n.unnamedField20!==void 0&&n.unnamedField20!=="Unnamed10361_value_0"&&(e.unnamedField20=ie(n.unnamedField20)),n.unnamedField21!==void 0&&n.unnamedField21!==0&&(e.unnamedField21=Math.round(n.unnamedField21)),e}};function hd(n){return BigInt(n.toString())}t(hd,"longToBigint");p__default.default.util.Long!==se__default.default&&(p__default.default.util.Long=se__default.default,p__default.default.configure());function U(n){return n!=null}t(U,"isSet");function On(n){switch(n){case 0:case"Unnamed10357_value_0":return "Unnamed10357_value_0";case 1:case"Unnamed10357_value_1":return "Unnamed10357_value_1";case 2:case"Unnamed10357_value_2":return "Unnamed10357_value_2";case 3:case"Unnamed10357_value_3":return "Unnamed10357_value_3";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(On,"unnamed10357FromJSON");function Fe(n){switch(n){case"Unnamed10357_value_0":return "Unnamed10357_value_0";case"Unnamed10357_value_1":return "Unnamed10357_value_1";case"Unnamed10357_value_2":return "Unnamed10357_value_2";case"Unnamed10357_value_3":return "Unnamed10357_value_3";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(Fe,"unnamed10357ToJSON");function pe(n){switch(n){case"Unnamed10357_value_0":return 0;case"Unnamed10357_value_1":return 1;case"Unnamed10357_value_2":return 2;case"Unnamed10357_value_3":return 3;case"UNRECOGNIZED":default:return -1}}t(pe,"unnamed10357ToNumber");function Tn(n){switch(n){case 0:case"Unnamed10358_value_0":return "Unnamed10358_value_0";case 1:case"Unnamed10358_value_1":return "Unnamed10358_value_1";case 2:case"Unnamed10358_value_2":return "Unnamed10358_value_2";case 3:case"Unnamed10358_value_3":return "Unnamed10358_value_3";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(Tn,"unnamed10358FromJSON");function Ne(n){switch(n){case"Unnamed10358_value_0":return "Unnamed10358_value_0";case"Unnamed10358_value_1":return "Unnamed10358_value_1";case"Unnamed10358_value_2":return "Unnamed10358_value_2";case"Unnamed10358_value_3":return "Unnamed10358_value_3";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(Ne,"unnamed10358ToJSON");function ve(n){switch(n){case"Unnamed10358_value_0":return 0;case"Unnamed10358_value_1":return 1;case"Unnamed10358_value_2":return 2;case"Unnamed10358_value_3":return 3;case"UNRECOGNIZED":default:return -1}}t(ve,"unnamed10358ToNumber");function Rn(n){switch(n){case 0:case"Unnamed10359_value_0":return "Unnamed10359_value_0";case 1:case"Unnamed10359_value_1":return "Unnamed10359_value_1";case 2:case"Unnamed10359_value_2":return "Unnamed10359_value_2";case 3:case"Unnamed10359_value_3":return "Unnamed10359_value_3";case 4:case"Unnamed10359_value_4":return "Unnamed10359_value_4";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(Rn,"unnamed10359FromJSON");function Ie(n){switch(n){case"Unnamed10359_value_0":return "Unnamed10359_value_0";case"Unnamed10359_value_1":return "Unnamed10359_value_1";case"Unnamed10359_value_2":return "Unnamed10359_value_2";case"Unnamed10359_value_3":return "Unnamed10359_value_3";case"Unnamed10359_value_4":return "Unnamed10359_value_4";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(Ie,"unnamed10359ToJSON");function Ae(n){switch(n){case"Unnamed10359_value_0":return 0;case"Unnamed10359_value_1":return 1;case"Unnamed10359_value_2":return 2;case"Unnamed10359_value_3":return 3;case"Unnamed10359_value_4":return 4;case"UNRECOGNIZED":default:return -1}}t(Ae,"unnamed10359ToNumber");function X(n){switch(n){case 0:case"Unnamed10360_value_0":return "Unnamed10360_value_0";case 1:case"Unnamed10360_value_1":return "Unnamed10360_value_1";case 2:case"Unnamed10360_value_2":return "Unnamed10360_value_2";case 3:case"Unnamed10360_value_3":return "Unnamed10360_value_3";case 4:case"Unnamed10360_value_4":return "Unnamed10360_value_4";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(X,"unnamed10360FromJSON");function Dn(n){switch(n){case"Unnamed10360_value_0":return "Unnamed10360_value_0";case"Unnamed10360_value_1":return "Unnamed10360_value_1";case"Unnamed10360_value_2":return "Unnamed10360_value_2";case"Unnamed10360_value_3":return "Unnamed10360_value_3";case"Unnamed10360_value_4":return "Unnamed10360_value_4";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(Dn,"unnamed10360ToJSON");function bn(n){switch(n){case"Unnamed10360_value_0":return 0;case"Unnamed10360_value_1":return 1;case"Unnamed10360_value_2":return 2;case"Unnamed10360_value_3":return 3;case"Unnamed10360_value_4":return 4;case"UNRECOGNIZED":default:return -1}}t(bn,"unnamed10360ToNumber");function Cd(){return {}}t(Cd,"createBaseUnnamed8456");var q={encode(n,e=p__default.default.Writer.create()){if(n.unnamedField1!==void 0&&n.unnamedField1!==""&&e.uint32(10).string(n.unnamedField1),n.unnamedField2!==void 0&&n.unnamedField2!==0&&e.uint32(16).int32(n.unnamedField2),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Cd();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.unnamedField1=d.string();continue;case 2:if(r!==16)break;i.unnamedField2=d.int32();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {unnamedField1:Se(n.unnamedField1)?String(n.unnamedField1):void 0,unnamedField2:Se(n.unnamedField2)?Number(n.unnamedField2):void 0}},toJSON(n){let e={};return n.unnamedField1!==void 0&&n.unnamedField1!==""&&(e.unnamedField1=n.unnamedField1),n.unnamedField2!==void 0&&n.unnamedField2!==0&&(e.unnamedField2=Math.round(n.unnamedField2)),e}};function Se(n){return n!=null}t(Se,"isSet");function Od(){return {}}t(Od,"createBaseDeviceConfigurationProto");var $={encode(n,e=p__default.default.Writer.create()){if(n.touchScreen!==void 0&&n.touchScreen!=="Unnamed10357_value_0"&&e.uint32(8).int32(pe(n.touchScreen)),n.keyboard!==void 0&&n.keyboard!=="Unnamed10358_value_0"&&e.uint32(16).int32(ve(n.keyboard)),n.navigation!==void 0&&n.navigation!=="Unnamed10359_value_0"&&e.uint32(24).int32(Ae(n.navigation)),n.screenLayout!==void 0&&n.screenLayout!=="Unnamed10360_value_0"&&e.uint32(32).int32(bn(n.screenLayout)),n.hasHardKeyboard===!0&&e.uint32(40).bool(n.hasHardKeyboard),n.hasFiveWayNavigation===!0&&e.uint32(48).bool(n.hasFiveWayNavigation),n.screenDensity!==void 0&&n.screenDensity!==0&&e.uint32(56).int32(n.screenDensity),n.glEsVersion!==void 0&&n.glEsVersion!==0&&e.uint32(64).int32(n.glEsVersion),n.systemSharedLibrary!==void 0&&n.systemSharedLibrary.length!==0)for(let d of n.systemSharedLibrary)e.uint32(74).string(d);if(n.systemAvailableFeature!==void 0&&n.systemAvailableFeature.length!==0)for(let d of n.systemAvailableFeature)e.uint32(82).string(d);if(n.nativePlatform!==void 0&&n.nativePlatform.length!==0)for(let d of n.nativePlatform)e.uint32(90).string(d);if(n.screenWidth!==void 0&&n.screenWidth!==0&&e.uint32(96).int32(n.screenWidth),n.screenHeight!==void 0&&n.screenHeight!==0&&e.uint32(104).int32(n.screenHeight),n.systemSupportedLocale!==void 0&&n.systemSupportedLocale.length!==0)for(let d of n.systemSupportedLocale)e.uint32(114).string(d);if(n.glExtension!==void 0&&n.glExtension.length!==0)for(let d of n.glExtension)e.uint32(122).string(d);if(n.unnamedField18!==void 0&&n.unnamedField18!==0&&e.uint32(144).int32(n.unnamedField18),n.unnamedField19===!0&&e.uint32(152).bool(n.unnamedField19),n.unnamedField20!==void 0&&n.unnamedField20!==BigInt("0")&&e.uint32(160).int64(n.unnamedField20.toString()),n.unnamedField21!==void 0&&n.unnamedField21!==0&&e.uint32(168).int32(n.unnamedField21),n.unnamedField26!==void 0&&n.unnamedField26.length!==0)for(let d of n.unnamedField26)q.encode(d,e.uint32(210).fork()).ldelim();if(n.unnamedField28===!0&&e.uint32(224).bool(n.unnamedField28),n.unnamedField29!==void 0&&n.unnamedField29!==""&&e.uint32(234).string(n.unnamedField29),n.unnamedField30!==void 0&&n.unnamedField30!=="Unnamed10360_value_0"&&e.uint32(240).int32(bn(n.unnamedField30)),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Od();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==8)break;i.touchScreen=On(d.int32());continue;case 2:if(r!==16)break;i.keyboard=Tn(d.int32());continue;case 3:if(r!==24)break;i.navigation=Rn(d.int32());continue;case 4:if(r!==32)break;i.screenLayout=X(d.int32());continue;case 5:if(r!==40)break;i.hasHardKeyboard=d.bool();continue;case 6:if(r!==48)break;i.hasFiveWayNavigation=d.bool();continue;case 7:if(r!==56)break;i.screenDensity=d.int32();continue;case 8:if(r!==64)break;i.glEsVersion=d.int32();continue;case 9:if(r!==74)break;i.systemSharedLibrary===void 0&&(i.systemSharedLibrary=[]),i.systemSharedLibrary.push(d.string());continue;case 10:if(r!==82)break;i.systemAvailableFeature===void 0&&(i.systemAvailableFeature=[]),i.systemAvailableFeature.push(d.string());continue;case 11:if(r!==90)break;i.nativePlatform===void 0&&(i.nativePlatform=[]),i.nativePlatform.push(d.string());continue;case 12:if(r!==96)break;i.screenWidth=d.int32();continue;case 13:if(r!==104)break;i.screenHeight=d.int32();continue;case 14:if(r!==114)break;i.systemSupportedLocale===void 0&&(i.systemSupportedLocale=[]),i.systemSupportedLocale.push(d.string());continue;case 15:if(r!==122)break;i.glExtension===void 0&&(i.glExtension=[]),i.glExtension.push(d.string());continue;case 18:if(r!==144)break;i.unnamedField18=d.int32();continue;case 19:if(r!==152)break;i.unnamedField19=d.bool();continue;case 20:if(r!==160)break;i.unnamedField20=Td(d.int64());continue;case 21:if(r!==168)break;i.unnamedField21=d.int32();continue;case 26:if(r!==210)break;i.unnamedField26===void 0&&(i.unnamedField26=[]),i.unnamedField26.push(q.decode(d,d.uint32()));continue;case 28:if(r!==224)break;i.unnamedField28=d.bool();continue;case 29:if(r!==234)break;i.unnamedField29=d.string();continue;case 30:if(r!==240)break;i.unnamedField30=X(d.int32());continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {touchScreen:m(n.touch_screen)?On(n.touch_screen):void 0,keyboard:m(n.keyboard)?Tn(n.keyboard):void 0,navigation:m(n.navigation)?Rn(n.navigation):void 0,screenLayout:m(n.screen_layout)?X(n.screen_layout):void 0,hasHardKeyboard:m(n.has_hard_keyboard)?!!n.has_hard_keyboard:void 0,hasFiveWayNavigation:m(n.has_five_way_navigation)?!!n.has_five_way_navigation:void 0,screenDensity:m(n.screen_density)?Number(n.screen_density):void 0,glEsVersion:m(n.gl_es_version)?Number(n.gl_es_version):void 0,systemSharedLibrary:Array.isArray(n?.system_shared_library)?n.system_shared_library.map(e=>String(e)):void 0,systemAvailableFeature:Array.isArray(n?.system_available_feature)?n.system_available_feature.map(e=>String(e)):void 0,nativePlatform:Array.isArray(n?.native_platform)?n.native_platform.map(e=>String(e)):void 0,screenWidth:m(n.screen_width)?Number(n.screen_width):void 0,screenHeight:m(n.screen_height)?Number(n.screen_height):void 0,systemSupportedLocale:Array.isArray(n?.system_supported_locale)?n.system_supported_locale.map(e=>String(e)):void 0,glExtension:Array.isArray(n?.gl_extension)?n.gl_extension.map(e=>String(e)):void 0,unnamedField18:m(n.unnamedField18)?Number(n.unnamedField18):void 0,unnamedField19:m(n.unnamedField19)?!!n.unnamedField19:void 0,unnamedField20:m(n.unnamedField20)?BigInt(n.unnamedField20):void 0,unnamedField21:m(n.unnamedField21)?Number(n.unnamedField21):void 0,unnamedField26:Array.isArray(n?.unnamedField26)?n.unnamedField26.map(e=>q.fromJSON(e)):void 0,unnamedField28:m(n.unnamedField28)?!!n.unnamedField28:void 0,unnamedField29:m(n.unnamedField29)?String(n.unnamedField29):void 0,unnamedField30:m(n.unnamedField30)?X(n.unnamedField30):void 0}},toJSON(n){let e={};return n.touchScreen!==void 0&&n.touchScreen!=="Unnamed10357_value_0"&&(e.touch_screen=Fe(n.touchScreen)),n.keyboard!==void 0&&n.keyboard!=="Unnamed10358_value_0"&&(e.keyboard=Ne(n.keyboard)),n.navigation!==void 0&&n.navigation!=="Unnamed10359_value_0"&&(e.navigation=Ie(n.navigation)),n.screenLayout!==void 0&&n.screenLayout!=="Unnamed10360_value_0"&&(e.screen_layout=Dn(n.screenLayout)),n.hasHardKeyboard===!0&&(e.has_hard_keyboard=n.hasHardKeyboard),n.hasFiveWayNavigation===!0&&(e.has_five_way_navigation=n.hasFiveWayNavigation),n.screenDensity!==void 0&&n.screenDensity!==0&&(e.screen_density=Math.round(n.screenDensity)),n.glEsVersion!==void 0&&n.glEsVersion!==0&&(e.gl_es_version=Math.round(n.glEsVersion)),n.systemSharedLibrary?.length&&(e.system_shared_library=n.systemSharedLibrary),n.systemAvailableFeature?.length&&(e.system_available_feature=n.systemAvailableFeature),n.nativePlatform?.length&&(e.native_platform=n.nativePlatform),n.screenWidth!==void 0&&n.screenWidth!==0&&(e.screen_width=Math.round(n.screenWidth)),n.screenHeight!==void 0&&n.screenHeight!==0&&(e.screen_height=Math.round(n.screenHeight)),n.systemSupportedLocale?.length&&(e.system_supported_locale=n.systemSupportedLocale),n.glExtension?.length&&(e.gl_extension=n.glExtension),n.unnamedField18!==void 0&&n.unnamedField18!==0&&(e.unnamedField18=Math.round(n.unnamedField18)),n.unnamedField19===!0&&(e.unnamedField19=n.unnamedField19),n.unnamedField20!==void 0&&n.unnamedField20!==BigInt("0")&&(e.unnamedField20=n.unnamedField20.toString()),n.unnamedField21!==void 0&&n.unnamedField21!==0&&(e.unnamedField21=Math.round(n.unnamedField21)),n.unnamedField26?.length&&(e.unnamedField26=n.unnamedField26.map(d=>q.toJSON(d))),n.unnamedField28===!0&&(e.unnamedField28=n.unnamedField28),n.unnamedField29!==void 0&&n.unnamedField29!==""&&(e.unnamedField29=n.unnamedField29),n.unnamedField30!==void 0&&n.unnamedField30!=="Unnamed10360_value_0"&&(e.unnamedField30=Dn(n.unnamedField30)),e}};function Td(n){return BigInt(n.toString())}t(Td,"longToBigint");p__default.default.util.Long!==se__default.default&&(p__default.default.util.Long=se__default.default,p__default.default.configure());function m(n){return n!=null}t(m,"isSet");function Rd(){return {}}t(Rd,"createBaseAndroidCheckinRequest");var Ce={encode(n,e=p__default.default.Writer.create()){if(n.imei!==void 0&&n.imei!==""&&e.uint32(10).string(n.imei),n.id!==void 0&&n.id!==BigInt("0")&&e.uint32(16).int64(n.id.toString()),n.digest!==void 0&&n.digest!==""&&e.uint32(26).string(n.digest),n.checkin!==void 0&&Y.encode(n.checkin,e.uint32(34).fork()).ldelim(),n.locale!==void 0&&n.locale!==""&&e.uint32(50).string(n.locale),n.macAddr!==void 0&&n.macAddr.length!==0)for(let d of n.macAddr)e.uint32(74).string(d);if(n.meid!==void 0&&n.meid!==""&&e.uint32(82).string(n.meid),n.accountCookie!==void 0&&n.accountCookie.length!==0)for(let d of n.accountCookie)e.uint32(90).string(d);if(n.timeZone!==void 0&&n.timeZone!==""&&e.uint32(98).string(n.timeZone),n.securityToken!==void 0&&n.securityToken!==BigInt("0")&&e.uint32(105).fixed64(n.securityToken.toString()),n.version!==void 0&&n.version!==0&&e.uint32(112).int32(n.version),n.otaCert!==void 0&&n.otaCert.length!==0)for(let d of n.otaCert)e.uint32(122).string(d);if(n.serialNumber!==void 0&&n.serialNumber!==""&&e.uint32(130).string(n.serialNumber),n.esn!==void 0&&n.esn!==""&&e.uint32(138).string(n.esn),n.deviceConfiguration!==void 0&&$.encode(n.deviceConfiguration,e.uint32(146).fork()).ldelim(),n.macAddrType!==void 0&&n.macAddrType.length!==0)for(let d of n.macAddrType)e.uint32(154).string(d);if(n.fragment!==void 0&&n.fragment!==0&&e.uint32(160).int32(n.fragment),n.userSerialNumber!==void 0&&n.userSerialNumber!==0&&e.uint32(176).int32(n.userSerialNumber),n.unnamedField23!==void 0&&g.encode(n.unnamedField23,e.uint32(186).fork()).ldelim(),n.unnamedField24!==void 0&&n.unnamedField24!==""&&e.uint32(194).string(n.unnamedField24),n.unnamedField25!==void 0&&n.unnamedField25!==""&&e.uint32(202).string(n.unnamedField25),n.unnamedField26!==void 0&&n.unnamedField26!=="NO_RESTRICTION"&&e.uint32(208).int32(jn(n.unnamedField26)),n.unnamedField27!==void 0&&M.encode(n.unnamedField27,e.uint32(218).fork()).ldelim(),n.unnamedField29===!0&&e.uint32(232).bool(n.unnamedField29),n.unnamedField30===!0&&e.uint32(240).bool(n.unnamedField30),n.unnamedField31===!0&&e.uint32(248).bool(n.unnamedField31),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Rd();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.imei=d.string();continue;case 2:if(r!==16)break;i.id=he(d.int64());continue;case 3:if(r!==26)break;i.digest=d.string();continue;case 4:if(r!==34)break;i.checkin=Y.decode(d,d.uint32());continue;case 6:if(r!==50)break;i.locale=d.string();continue;case 9:if(r!==74)break;i.macAddr===void 0&&(i.macAddr=[]),i.macAddr.push(d.string());continue;case 10:if(r!==82)break;i.meid=d.string();continue;case 11:if(r!==90)break;i.accountCookie===void 0&&(i.accountCookie=[]),i.accountCookie.push(d.string());continue;case 12:if(r!==98)break;i.timeZone=d.string();continue;case 13:if(r!==105)break;i.securityToken=he(d.fixed64());continue;case 14:if(r!==112)break;i.version=d.int32();continue;case 15:if(r!==122)break;i.otaCert===void 0&&(i.otaCert=[]),i.otaCert.push(d.string());continue;case 16:if(r!==130)break;i.serialNumber=d.string();continue;case 17:if(r!==138)break;i.esn=d.string();continue;case 18:if(r!==146)break;i.deviceConfiguration=$.decode(d,d.uint32());continue;case 19:if(r!==154)break;i.macAddrType===void 0&&(i.macAddrType=[]),i.macAddrType.push(d.string());continue;case 20:if(r!==160)break;i.fragment=d.int32();continue;case 22:if(r!==176)break;i.userSerialNumber=d.int32();continue;case 23:if(r!==186)break;i.unnamedField23=g.decode(d,d.uint32());continue;case 24:if(r!==194)break;i.unnamedField24=d.string();continue;case 25:if(r!==202)break;i.unnamedField25=d.string();continue;case 26:if(r!==208)break;i.unnamedField26=Un(d.int32());continue;case 27:if(r!==218)break;i.unnamedField27=M.decode(d,d.uint32());continue;case 29:if(r!==232)break;i.unnamedField29=d.bool();continue;case 30:if(r!==240)break;i.unnamedField30=d.bool();continue;case 31:if(r!==248)break;i.unnamedField31=d.bool();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {imei:c(n.imei)?String(n.imei):void 0,id:c(n.id)?BigInt(n.id):void 0,digest:c(n.digest)?String(n.digest):void 0,checkin:c(n.checkin)?Y.fromJSON(n.checkin):void 0,locale:c(n.locale)?String(n.locale):void 0,macAddr:Array.isArray(n?.mac_addr)?n.mac_addr.map(e=>String(e)):void 0,meid:c(n.meid)?String(n.meid):void 0,accountCookie:Array.isArray(n?.account_cookie)?n.account_cookie.map(e=>String(e)):void 0,timeZone:c(n.time_zone)?String(n.time_zone):void 0,securityToken:c(n.security_token)?BigInt(n.security_token):void 0,version:c(n.version)?Number(n.version):void 0,otaCert:Array.isArray(n?.ota_cert)?n.ota_cert.map(e=>String(e)):void 0,serialNumber:c(n.serial_number)?String(n.serial_number):void 0,esn:c(n.esn)?String(n.esn):void 0,deviceConfiguration:c(n.device_configuration)?$.fromJSON(n.device_configuration):void 0,macAddrType:Array.isArray(n?.mac_addr_type)?n.mac_addr_type.map(e=>String(e)):void 0,fragment:c(n.fragment)?Number(n.fragment):void 0,userSerialNumber:c(n.user_serial_number)?Number(n.user_serial_number):void 0,unnamedField23:c(n.unnamedField23)?g.fromJSON(n.unnamedField23):void 0,unnamedField24:c(n.unnamedField24)?String(n.unnamedField24):void 0,unnamedField25:c(n.unnamedField25)?String(n.unnamedField25):void 0,unnamedField26:c(n.unnamedField26)?Un(n.unnamedField26):void 0,unnamedField27:c(n.unnamedField27)?M.fromJSON(n.unnamedField27):void 0,unnamedField29:c(n.unnamedField29)?!!n.unnamedField29:void 0,unnamedField30:c(n.unnamedField30)?!!n.unnamedField30:void 0,unnamedField31:c(n.unnamedField31)?!!n.unnamedField31:void 0}},toJSON(n){let e={};return n.imei!==void 0&&n.imei!==""&&(e.imei=n.imei),n.id!==void 0&&n.id!==BigInt("0")&&(e.id=n.id.toString()),n.digest!==void 0&&n.digest!==""&&(e.digest=n.digest),n.checkin!==void 0&&(e.checkin=Y.toJSON(n.checkin)),n.locale!==void 0&&n.locale!==""&&(e.locale=n.locale),n.macAddr?.length&&(e.mac_addr=n.macAddr),n.meid!==void 0&&n.meid!==""&&(e.meid=n.meid),n.accountCookie?.length&&(e.account_cookie=n.accountCookie),n.timeZone!==void 0&&n.timeZone!==""&&(e.time_zone=n.timeZone),n.securityToken!==void 0&&n.securityToken!==BigInt("0")&&(e.security_token=n.securityToken.toString()),n.version!==void 0&&n.version!==0&&(e.version=Math.round(n.version)),n.otaCert?.length&&(e.ota_cert=n.otaCert),n.serialNumber!==void 0&&n.serialNumber!==""&&(e.serial_number=n.serialNumber),n.esn!==void 0&&n.esn!==""&&(e.esn=n.esn),n.deviceConfiguration!==void 0&&(e.device_configuration=$.toJSON(n.deviceConfiguration)),n.macAddrType?.length&&(e.mac_addr_type=n.macAddrType),n.fragment!==void 0&&n.fragment!==0&&(e.fragment=Math.round(n.fragment)),n.userSerialNumber!==void 0&&n.userSerialNumber!==0&&(e.user_serial_number=Math.round(n.userSerialNumber)),n.unnamedField23!==void 0&&(e.unnamedField23=g.toJSON(n.unnamedField23)),n.unnamedField24!==void 0&&n.unnamedField24!==""&&(e.unnamedField24=n.unnamedField24),n.unnamedField25!==void 0&&n.unnamedField25!==""&&(e.unnamedField25=n.unnamedField25),n.unnamedField26!==void 0&&n.unnamedField26!=="NO_RESTRICTION"&&(e.unnamedField26=zn(n.unnamedField26)),n.unnamedField27!==void 0&&(e.unnamedField27=M.toJSON(n.unnamedField27)),n.unnamedField29===!0&&(e.unnamedField29=n.unnamedField29),n.unnamedField30===!0&&(e.unnamedField30=n.unnamedField30),n.unnamedField31===!0&&(e.unnamedField31=n.unnamedField31),e}};function he(n){return BigInt(n.toString())}t(he,"longToBigint");p__default.default.util.Long!==se__default.default&&(p__default.default.util.Long=se__default.default,p__default.default.configure());function c(n){return n!=null}t(c,"isSet");function Dd(){return {}}t(Dd,"createBaseAndroidIntentProto");var Q={encode(n,e=p__default.default.Writer.create()){if(n.action!==void 0&&n.action!==""&&e.uint32(10).string(n.action),n.dataUri!==void 0&&n.dataUri!==""&&e.uint32(18).string(n.dataUri),n.mimeType!==void 0&&n.mimeType!==""&&e.uint32(26).string(n.mimeType),n.extra!==void 0&&n.extra.length!==0)for(let d of n.extra)tn.encode(d,e.uint32(43)).uint32(44);if(n.unnamedField8!==void 0&&n.unnamedField8!==""&&e.uint32(66).string(n.unnamedField8),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Dd();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.action=d.string();continue;case 2:if(r!==18)break;i.dataUri=d.string();continue;case 3:if(r!==26)break;i.mimeType=d.string();continue;case 5:if(r!==43)break;i.extra===void 0&&(i.extra=[]),i.extra.push(tn.decode(d));continue;case 8:if(r!==66)break;i.unnamedField8=d.string();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {action:R(n.action)?String(n.action):void 0,dataUri:R(n.data_uri)?String(n.data_uri):void 0,mimeType:R(n.mime_type)?String(n.mime_type):void 0,extra:Array.isArray(n?.extra)?n.extra.map(e=>tn.fromJSON(e)):void 0,unnamedField8:R(n.unnamedField8)?String(n.unnamedField8):void 0}},toJSON(n){let e={};return n.action!==void 0&&n.action!==""&&(e.action=n.action),n.dataUri!==void 0&&n.dataUri!==""&&(e.data_uri=n.dataUri),n.mimeType!==void 0&&n.mimeType!==""&&(e.mime_type=n.mimeType),n.extra?.length&&(e.extra=n.extra.map(d=>tn.toJSON(d))),n.unnamedField8!==void 0&&n.unnamedField8!==""&&(e.unnamedField8=n.unnamedField8),e}};function bd(){return {}}t(bd,"createBaseAndroidIntentProto_Extra");var tn={encode(n,e=p__default.default.Writer.create()){if(n.name!==void 0&&n.name!==""&&e.uint32(50).string(n.name),n.value!==void 0&&n.value!==""&&e.uint32(58).string(n.value),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=bd();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 6:if(r!==50)break;i.name=d.string();continue;case 7:if(r!==58)break;i.value=d.string();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {name:R(n.name)?String(n.name):void 0,value:R(n.value)?String(n.value):void 0}},toJSON(n){let e={};return n.name!==void 0&&n.name!==""&&(e.name=n.name),n.value!==void 0&&n.value!==""&&(e.value=n.value),e}};function R(n){return n!=null}t(R,"isSet");function Ld(){return {}}t(Ld,"createBaseGservicesSetting");var z={encode(n,e=p__default.default.Writer.create()){if(n.name!==void 0&&n.name.length!==0&&e.uint32(10).bytes(n.name),n.value!==void 0&&n.value.length!==0&&e.uint32(18).bytes(n.value),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Ld();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.name=d.bytes();continue;case 2:if(r!==18)break;i.value=d.bytes();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {name:Re(n.name)?Buffer.from(Oe(n.name)):void 0,value:Re(n.value)?Buffer.from(Oe(n.value)):void 0}},toJSON(n){let e={};return n.name!==void 0&&n.name.length!==0&&(e.name=Te(n.name)),n.value!==void 0&&n.value.length!==0&&(e.value=Te(n.value)),e}},b=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw "Unable to locate global object"})();function Oe(n){if(b.Buffer)return Uint8Array.from(b.Buffer.from(n,"base64"));{let e=b.atob(n),d=new Uint8Array(e.length);for(let u=0;u<e.length;++u)d[u]=e.charCodeAt(u);return d}}t(Oe,"bytesFromBase64");function Te(n){if(b.Buffer)return b.Buffer.from(n).toString("base64");{let e=[];return n.forEach(d=>{e.push(String.fromCharCode(d));}),b.btoa(e.join(""))}}t(Te,"base64FromBytes");function Re(n){return n!=null}t(Re,"isSet");function Pd(){return {}}t(Pd,"createBaseAndroidCheckinResponse");var be={encode(n,e=p__default.default.Writer.create()){if(n.statsOk===!0&&e.uint32(8).bool(n.statsOk),n.intent!==void 0&&n.intent.length!==0)for(let d of n.intent)Q.encode(d,e.uint32(18).fork()).ldelim();if(n.timeMsec!==void 0&&n.timeMsec!==BigInt("0")&&e.uint32(24).int64(n.timeMsec.toString()),n.setting!==void 0&&n.setting.length!==0)for(let d of n.setting)z.encode(d,e.uint32(42).fork()).ldelim();if(n.androidId!==void 0&&n.androidId!==BigInt("0")&&e.uint32(57).fixed64(n.androidId.toString()),n.securityToken!==void 0&&n.securityToken!==BigInt("0")&&e.uint32(65).fixed64(n.securityToken.toString()),n.settingsDiff===!0&&e.uint32(72).bool(n.settingsDiff),n.unnamedField11!==void 0&&n.unnamedField11!==""&&e.uint32(90).string(n.unnamedField11),n.unnamedField12!==void 0&&n.unnamedField12!==""&&e.uint32(98).string(n.unnamedField12),n.unnamedField13!==void 0&&n.unnamedField13.length!==0)for(let d of n.unnamedField13)e.uint32(106).string(d);if(n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=Pd();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==8)break;i.statsOk=d.bool();continue;case 2:if(r!==18)break;i.intent===void 0&&(i.intent=[]),i.intent.push(Q.decode(d,d.uint32()));continue;case 3:if(r!==24)break;i.timeMsec=Bn(d.int64());continue;case 5:if(r!==42)break;i.setting===void 0&&(i.setting=[]),i.setting.push(z.decode(d,d.uint32()));continue;case 7:if(r!==57)break;i.androidId=Bn(d.fixed64());continue;case 8:if(r!==65)break;i.securityToken=Bn(d.fixed64());continue;case 9:if(r!==72)break;i.settingsDiff=d.bool();continue;case 11:if(r!==90)break;i.unnamedField11=d.string();continue;case 12:if(r!==98)break;i.unnamedField12=d.string();continue;case 13:if(r!==106)break;i.unnamedField13===void 0&&(i.unnamedField13=[]),i.unnamedField13.push(d.string());continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {statsOk:I(n.stats_ok)?!!n.stats_ok:void 0,intent:Array.isArray(n?.intent)?n.intent.map(e=>Q.fromJSON(e)):void 0,timeMsec:I(n.time_msec)?BigInt(n.time_msec):void 0,setting:Array.isArray(n?.setting)?n.setting.map(e=>z.fromJSON(e)):void 0,androidId:I(n.android_id)?BigInt(n.android_id):void 0,securityToken:I(n.security_token)?BigInt(n.security_token):void 0,settingsDiff:I(n.settings_diff)?!!n.settings_diff:void 0,unnamedField11:I(n.unnamedField11)?String(n.unnamedField11):void 0,unnamedField12:I(n.unnamedField12)?String(n.unnamedField12):void 0,unnamedField13:Array.isArray(n?.unnamedField13)?n.unnamedField13.map(e=>String(e)):void 0}},toJSON(n){let e={};return n.statsOk===!0&&(e.stats_ok=n.statsOk),n.intent?.length&&(e.intent=n.intent.map(d=>Q.toJSON(d))),n.timeMsec!==void 0&&n.timeMsec!==BigInt("0")&&(e.time_msec=n.timeMsec.toString()),n.setting?.length&&(e.setting=n.setting.map(d=>z.toJSON(d))),n.androidId!==void 0&&n.androidId!==BigInt("0")&&(e.android_id=n.androidId.toString()),n.securityToken!==void 0&&n.securityToken!==BigInt("0")&&(e.security_token=n.securityToken.toString()),n.settingsDiff===!0&&(e.settings_diff=n.settingsDiff),n.unnamedField11!==void 0&&n.unnamedField11!==""&&(e.unnamedField11=n.unnamedField11),n.unnamedField12!==void 0&&n.unnamedField12!==""&&(e.unnamedField12=n.unnamedField12),n.unnamedField13?.length&&(e.unnamedField13=n.unnamedField13),e}};function Bn(n){return BigInt(n.toString())}t(Bn,"longToBigint");p__default.default.util.Long!==se__default.default&&(p__default.default.util.Long=se__default.default,p__default.default.configure());function I(n){return n!=null}t(I,"isSet");var Le={name:"AndroidCheckin",fullName:"google.android.gsf.checkin.AndroidCheckin",methods:{checkin:{name:"Checkin",requestType:Ce,requestStream:!1,responseType:be,responseStream:!1,options:{_unknownFields:{578365826:[Buffer.from([13,34,8,47,99,104,101,99,107,105,110,58,1,42])]}}}}};var wd=Le,Pe=[{name:"Android Checkin",id:"android.googleapis.com://checkin",client:"google.rest",endpoints:[{host:"android.googleapis.com",transport:["application/json","application/x-protobuffer"]},{host:"device-provisioning.googleapis.com",transport:["application/json","application/x-protobuffer"]}],implementation:wd},{name:"Android Authentication",id:"android.googleapis.com://auth",client:"google.android.auth",endpoints:[{host:"android.googleapis.com",transport:["googleauth"]}],methods:[{name:"Auth",method:"POST",path:"/auth",transport:["googleauth"]}]}];mosaic.Client.DefaultServiceProvider.registerClients(Xn);mosaic.Client.DefaultServiceProvider.registerTransports(Qn);mosaic.Client.DefaultServiceProvider.registerServices(Pe);var wn;function Be(n){return wn||(wn=mosaic.Client.DefaultServiceProvider.create("android.googleapis.com://checkin",{transport:"application/x-protobuffer"})),wn.checkin(n)}t(Be,"checkin");async function Md(n,e){let d={id:n.id,product:n.product,carrier:n.carrier,radio:n.radio,bootloader:n.bootloader,client:n.client,manufacturer:n.manufacturer,buildProduct:n.product,device:n.device,model:n.product},u={imei:n.imei,id:0n,otaCert:n.otaCert?[n.otaCert]:[],fragment:0,version:3,securityToken:0n,checkin:{build:d},...e},i=await Be(u);if(!i.androidId||i.androidId===0n)throw new jsCommon.ApiError("Failed to get androidId");return {response:i,androidId:i.androidId.toString(16)}}t(Md,"createAndroidId");function on(n,e){if(!n.has(e))throw new jsCommon.ApiError(`${e} missing in response`);return n.get(e)}t(on,"getOrThrow");var xe=225014e3,xn=class{static{t(this,"Auth");}constructor(){}static authService;static async oauth(e,d){return this.authService||(this.authService=mosaic.Client.DefaultServiceProvider.create("android.googleapis.com://auth")),await this.authService.auth({...d,service:d.service.join(":"),google_play_services_version:xe,Token:e})}static async login(e){let d=await this.oauth(e,{service:["ac2dm"],add_account:1,get_accountid:1,ACCESS_TOKEN:1});return {secret:on(d,"Token"),email:on(d,"Email"),firstName:d.get("firstName"),lastName:d.get("lastName"),accountId:d.get("accountId")}}static async issueToken(e,d,u,i){let r=await this.oauth(u,{androidId:e,app:d.name,client_sig:d.signature,service:["oauth2",mosaic.OAuth.Scopes.stringify(i)]}),l;return r.has("Expiry")&&(l=parseInt(r.get("Expiry"),10),Number.isFinite(l)||(l=void 0)),{secret:on(r,"Auth"),expire:l,scopes:mosaic.OAuth.Scopes.parse(on(r,"grantedScopes"))}}};var Je={};_n(Je,{Android:()=>Mn});var Mn={};_n(Mn,{AndroidOAuth:()=>j});var Me=__dirname;var j=class extends mosaic.OAuth.OAuthIssuer{static{t(this,"AndroidOAuth");}androidIdPromise;async getAndroidId(){let e="mosaic.google-cloud.androidId",d=await mosaic.OAuth.Store.getKey(e);if(d)return d;if(this.androidIdPromise)return await this.androidIdPromise;let u=protobufTs.Config.get("oauth/android.googleapis.com/deviceInfo");if(!u)throw new jsCommon.GenericError("Device configuration not found");this.androidIdPromise=P.createAndroidId(u).then(i=>i.androidId);try{d=await this.androidIdPromise;}finally{this.androidIdPromise=void 0;}return mosaic.OAuth.Store.setKey(e,d),d}async login(e){let d=await P.Auth.login(e),u=[];return d.firstName&&u.push(d.firstName),d.lastName&&u.push(d.lastName),new mosaic.OAuth.RefreshToken({issuer:this,type:"Bearer",secret:d.secret,metadata:{...d,secret:void 0,profile:u.length?u.join(" "):void 0}})}async issue(e,d,u){let i=await this.getAndroidId(),r=await P.Auth.issueToken(i,{name:d.package,signature:d.fingerprint},e.secret,u);return new mosaic.OAuth.AccessToken({issuer:this,client:d.id,type:"Bearer",refresher:e,...r})}async perform(e,d,u){if(u?.noUI)throw new jsCommon.InvalidArgumentError("No UI not supported for this login method");if(u?.email||u?.password)throw new jsCommon.InvalidArgumentError("Username and/or password is not supported for this login method");!u?.form&&u?.formOptions&&(u.form=jsCommon.Json.decode(u.formOptions));let i={form:u?.form,userAgent:protobufTs.Config.get("oauth/accounts.google.com/userAgent/embedded.setup.v2/android")},r,l,a;if(r=await mosaic.OAuth.launch(`${Me}/google-cloud/oauth/android/login`,i),!r.length)throw new mosaic.OAuth.UserDeniedError;return l=await this.login(r[0]),a=await this.issue(l,e,d),a}async exchange(e,d){throw new jsCommon.UnsupportedError}async refresh(e,d){let u=mosaic.OAuth.DefaultOAuthProvider.getClient(e.client);return await this.issue(d,u,e.scopes)}async revoke(e){}};var Zd=j,He=[{name:"Android OAuth 2.0",id:"android.googleapis.com",implementation:Zd}];mosaic.OAuth.DefaultOAuthProvider.registerIssuers(He);var gn=class{static{t(this,"ProjectRegistry");}provider;projects;constructor(e=mosaic.OAuth.DefaultOAuthProvider){this.provider=e,this.projects=new Map;}registerProjects(e){for(let d of e){this.projects.set(d.name,d);for(let u of d.clients??[])this.provider.registerClients([{config:d.oauth[0],project:d,...u}]);}}getProject(e){let d=this.projects.get(e);if(!d)throw new jsCommon.NotFoundError(`Project with name '${e}' not found`);return d}},ct=new gn;function jd(n,e){return `${n}${e}`}t(jd,"makeCookie");var ln=class extends mosaic.Client.Credentials{static{t(this,"GoogleCookie");}cookies;string;authuser;constructor(e,d=0){super(),this.cookies=jsCommon.Cookie.parse(e),this.string=e,this.authuser=d;}getAuthorization(e,d=!0,u=Date.now()){let i=this.cookies[d?"SAPISID":"APISID"];if(i||(i=this.cookies[jd("__Secure-3P","APISID")]),!i)throw new mosaic.OAuth.InvalidCredentialsError;let r=crypto.createHash("sha1").update(`${u} ${i} ${e}`).digest("hex");return `${d?"SAPISID":"APISID"}HASH ${u}_${r}`}getCookie(){return this.string}};function ni(){return {}}t(ni,"createBaseAny");var nn={encode(n,e=p__default.default.Writer.create()){if(n.type_url!==void 0&&n.type_url!==""&&e.uint32(10).string(n.type_url),n.value!==void 0&&n.value.length!==0&&e.uint32(18).bytes(n.value),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=ni();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.type_url=d.string();continue;case 2:if(r!==18)break;i.value=d.bytes();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {type_url:We(n.type_url)?String(n.type_url):void 0,value:We(n.value)?Buffer.from(ei(n.value)):void 0}},toJSON(n){let e={};return n.type_url!==void 0&&n.type_url!==""&&(e.type_url=n.type_url),n.value!==void 0&&n.value.length!==0&&(e.value=di(n.value)),e}},B=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw "Unable to locate global object"})();function ei(n){if(B.Buffer)return Uint8Array.from(B.Buffer.from(n,"base64"));{let e=B.atob(n),d=new Uint8Array(e.length);for(let u=0;u<e.length;++u)d[u]=e.charCodeAt(u);return d}}t(ei,"bytesFromBase64");function di(n){if(B.Buffer)return B.Buffer.from(n).toString("base64");{let e=[];return n.forEach(d=>{e.push(String.fromCharCode(d));}),B.btoa(e.join(""))}}t(di,"base64FromBytes");function We(n){return n!=null}t(We,"isSet");function Hn(n){switch(n){case 0:case"OK":return "OK";case 1:case"CANCELLED":return "CANCELLED";case 2:case"UNKNOWN":return "UNKNOWN";case 3:case"INVALID_ARGUMENT":return "INVALID_ARGUMENT";case 4:case"DEADLINE_EXCEEDED":return "DEADLINE_EXCEEDED";case 5:case"NOT_FOUND":return "NOT_FOUND";case 6:case"ALREADY_EXISTS":return "ALREADY_EXISTS";case 7:case"PERMISSION_DENIED":return "PERMISSION_DENIED";case 16:case"UNAUTHENTICATED":return "UNAUTHENTICATED";case 8:case"RESOURCE_EXHAUSTED":return "RESOURCE_EXHAUSTED";case 9:case"FAILED_PRECONDITION":return "FAILED_PRECONDITION";case 10:case"ABORTED":return "ABORTED";case 11:case"OUT_OF_RANGE":return "OUT_OF_RANGE";case 12:case"UNIMPLEMENTED":return "UNIMPLEMENTED";case 13:case"INTERNAL":return "INTERNAL";case 14:case"UNAVAILABLE":return "UNAVAILABLE";case 15:case"DATA_LOSS":return "DATA_LOSS";case-1:case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(Hn,"codeFromJSON");function Ve(n){switch(n){case"OK":return "OK";case"CANCELLED":return "CANCELLED";case"UNKNOWN":return "UNKNOWN";case"INVALID_ARGUMENT":return "INVALID_ARGUMENT";case"DEADLINE_EXCEEDED":return "DEADLINE_EXCEEDED";case"NOT_FOUND":return "NOT_FOUND";case"ALREADY_EXISTS":return "ALREADY_EXISTS";case"PERMISSION_DENIED":return "PERMISSION_DENIED";case"UNAUTHENTICATED":return "UNAUTHENTICATED";case"RESOURCE_EXHAUSTED":return "RESOURCE_EXHAUSTED";case"FAILED_PRECONDITION":return "FAILED_PRECONDITION";case"ABORTED":return "ABORTED";case"OUT_OF_RANGE":return "OUT_OF_RANGE";case"UNIMPLEMENTED":return "UNIMPLEMENTED";case"INTERNAL":return "INTERNAL";case"UNAVAILABLE":return "UNAVAILABLE";case"DATA_LOSS":return "DATA_LOSS";case"UNRECOGNIZED":default:return "UNRECOGNIZED"}}t(Ve,"codeToJSON");function Ze(n){switch(n){case"OK":return 0;case"CANCELLED":return 1;case"UNKNOWN":return 2;case"INVALID_ARGUMENT":return 3;case"DEADLINE_EXCEEDED":return 4;case"NOT_FOUND":return 5;case"ALREADY_EXISTS":return 6;case"PERMISSION_DENIED":return 7;case"UNAUTHENTICATED":return 16;case"RESOURCE_EXHAUSTED":return 8;case"FAILED_PRECONDITION":return 9;case"ABORTED":return 10;case"OUT_OF_RANGE":return 11;case"UNIMPLEMENTED":return 12;case"INTERNAL":return 13;case"UNAVAILABLE":return 14;case"DATA_LOSS":return 15;case"UNRECOGNIZED":default:return -1}}t(Ze,"codeToNumber");function ii(){return {}}t(ii,"createBaseError");var Ke={encode(n,e=p__default.default.Writer.create()){if(n.error!==void 0&&cn.encode(n.error,e.uint32(10).fork()).ldelim(),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=ii();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.error=cn.decode(d,d.uint32());continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {error:F(n.error)?cn.fromJSON(n.error):void 0}},toJSON(n){let e={};return n.error!==void 0&&(e.error=cn.toJSON(n.error)),e}};function ri(){return {}}t(ri,"createBaseError_ErrorInfo");var fn={encode(n,e=p__default.default.Writer.create()){if(n.message!==void 0&&n.message!==""&&e.uint32(10).string(n.message),n.domain!==void 0&&n.domain!==""&&e.uint32(18).string(n.domain),n.reason!==void 0&&n.reason!==""&&e.uint32(26).string(n.reason),n.location!==void 0&&n.location!==""&&e.uint32(34).string(n.location),n.location_type!==void 0&&n.location_type!==""&&e.uint32(42).string(n.location_type),n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=ri();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==10)break;i.message=d.string();continue;case 2:if(r!==18)break;i.domain=d.string();continue;case 3:if(r!==26)break;i.reason=d.string();continue;case 4:if(r!==34)break;i.location=d.string();continue;case 5:if(r!==42)break;i.location_type=d.string();continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {message:F(n.message)?String(n.message):void 0,domain:F(n.domain)?String(n.domain):void 0,reason:F(n.reason)?String(n.reason):void 0,location:F(n.location)?String(n.location):void 0,location_type:F(n.location_type)?String(n.location_type):void 0}},toJSON(n){let e={};return n.message!==void 0&&n.message!==""&&(e.message=n.message),n.domain!==void 0&&n.domain!==""&&(e.domain=n.domain),n.reason!==void 0&&n.reason!==""&&(e.reason=n.reason),n.location!==void 0&&n.location!==""&&(e.location=n.location),n.location_type!==void 0&&n.location_type!==""&&(e.location_type=n.location_type),e}};function ui(){return {}}t(ui,"createBaseError_Status");var cn={encode(n,e=p__default.default.Writer.create()){if(n.code!==void 0&&n.code!==0&&e.uint32(8).int32(n.code),n.message!==void 0&&n.message!==""&&e.uint32(18).string(n.message),n.errors!==void 0&&n.errors.length!==0)for(let d of n.errors)fn.encode(d,e.uint32(26).fork()).ldelim();if(n.status!==void 0&&n.status!=="OK"&&e.uint32(32).int32(Ze(n.status)),n.details!==void 0&&n.details.length!==0)for(let d of n.details)nn.encode(d,e.uint32(42).fork()).ldelim();if(n._unknownFields!==void 0)for(let[d,u]of Object.entries(n._unknownFields)){let i=parseInt(d,10);for(let r of u)e.uint32(i),e._push((l,a,o)=>a.set(l,o),r.length,r);}return e},decode(n,e){let d=n instanceof p__default.default.Reader?n:p__default.default.Reader.create(n),u=e===void 0?d.len:d.pos+e,i=ui();for(;d.pos<u;){let r=d.uint32();switch(r>>>3){case 1:if(r!==8)break;i.code=d.int32();continue;case 2:if(r!==18)break;i.message=d.string();continue;case 3:if(r!==26)break;i.errors===void 0&&(i.errors=[]),i.errors.push(fn.decode(d,d.uint32()));continue;case 4:if(r!==32)break;i.status=Hn(d.int32());continue;case 5:if(r!==42)break;i.details===void 0&&(i.details=[]),i.details.push(nn.decode(d,d.uint32()));continue}if((r&7)===4||r===0)break;let l=d.pos;d.skipType(r&7);let a=d.buf.slice(l,d.pos);i._unknownFields===void 0&&(i._unknownFields={});let o=i._unknownFields[r];o===void 0?i._unknownFields[r]=[a]:o.push(a);}return i},fromJSON(n){return {code:F(n.code)?Number(n.code):void 0,message:F(n.message)?String(n.message):void 0,errors:Array.isArray(n?.errors)?n.errors.map(e=>fn.fromJSON(e)):void 0,status:F(n.status)?Hn(n.status):void 0,details:Array.isArray(n?.details)?n.details.map(e=>nn.fromJSON(e)):void 0}},toJSON(n){let e={};return n.code!==void 0&&n.code!==0&&(e.code=Math.round(n.code)),n.message!==void 0&&n.message!==""&&(e.message=n.message),n.errors?.length&&(e.errors=n.errors.map(d=>fn.toJSON(d))),n.status!==void 0&&n.status!=="OK"&&(e.status=Ve(n.status)),n.details?.length&&(e.details=n.details.map(d=>nn.toJSON(d))),e}};function F(n){return n!=null}t(F,"isSet");var mn=class extends mosaic.Client.Client{static{t(this,"GoogleClient");}async setRequestCredentials(e,d,u=!1){let i=!1;for(let r of d)if(r instanceof mosaic.Client.ApiKey)e.setHeader("X-Goog-Api-Key",r.key);else if(r instanceof mosaic.OAuth.AccessToken)(r.expired||u)&&(await r.refresh(),i=!0),e.setHeader(jsCommon.HttpHeader.AUTHORIZATION,r.toString());else if(r instanceof ln)e.setHeader(jsCommon.HttpHeader.ORIGIN,e.url.origin),e.setHeader(jsCommon.HttpHeader.COOKIE,r.getCookie()),e.setHeader(jsCommon.HttpHeader.AUTHORIZATION,r.getAuthorization(e.url.origin,e.https)),e.setHeader("X-Goog-Authuser",r.authuser);else throw new jsCommon.InvalidArgumentError("Invalid credentials. Expected one of ApiKey, AccessToken, or GoogleCookie");return i}async perform(e){let d=await e.execute();if(d.ok&&this.xssi?.json===void 0)return d;let u=d.headers.get(jsCommon.HttpHeader.CONTENT_TYPE);if(!u)throw new jsCommon.ApiError(`${jsCommon.HttpHeader.CONTENT_TYPE} header missing`);let i=jsCommon.Mime.parse(u),r=jsCommon.Mime.typeEquals(i,jsCommon.HttpContentType.JSON);if(r){let o=Buffer.from(this.xssi.json,"utf8");d.body.subarray(0,o.length).equals(o)&&(d.body=d.body.subarray(o.length));}if(d.ok)return d;let l,a;if(r){let o=jsCommon.Json.decode(d.body.toString()),E=Ke.fromJSON(o).error;l=E?.status,a=E?.message;}else if(jsCommon.Mime.typeEquals(i,jsCommon.HttpContentType.PROTOBUF)){let o;try{o=status.Status.decode(d.body);}catch(E){throw new jsCommon.ParseError(E)}o.code!==void 0&&(l=code.codeFromJSON(o.code)),a=o.message;}else throw new jsCommon.ApiError(`Unknown content type: ${u}`);switch(l){case code.Code.INVALID_ARGUMENT:throw new jsCommon.InvalidArgumentError(a);case code.Code.FAILED_PRECONDITION:throw new jsCommon.PreconditionFailedError(a);case code.Code.UNAUTHENTICATED:throw new mosaic.OAuth.InvalidCredentialsError(a);case code.Code.PERMISSION_DENIED:throw new jsCommon.PermissionDeniedError(a);case code.Code.NOT_FOUND:throw new jsCommon.NotFoundError(a);case code.Code.ALREADY_EXISTS:throw new jsCommon.ExistsError(a);case code.Code.RESOURCE_EXHAUSTED:throw new jsCommon.RateLimitedError(a);case code.Code.CANCELLED:throw new jsCommon.AbortedError(a);case code.Code.INTERNAL:case code.Code.UNKNOWN:throw new jsCommon.InternalServerError(a);case code.Code.UNIMPLEMENTED:throw new jsCommon.UnimplementedError(a);case code.Code.UNAVAILABLE:throw new jsCommon.UnavailableError(a);case code.Code.DEADLINE_EXCEEDED:throw new jsCommon.TimedOutError(a);default:throw mosaic.Client.HttpStatus.errorFrom(d,a,l)}}async request(e,d){d?.credentials&&await this.setRequestCredentials(e,d.credentials);let u=this.perform(e);if(!d?.retryExpiredCredentials||!d?.credentials)return u;try{return await u}catch(i){if(!(i instanceof mosaic.OAuth.InvalidCredentialsError)||!await this.setRequestCredentials(e,d.credentials,!0))throw i;return this.perform(e)}}};var Ii=mn,$e=[{name:"Google REST",id:"google.rest",options:{apiFormatVersion:{header:"X-Goog-Api-Format-Version",default:1,enum:[1,2]},apiKey:{header:"X-Goog-Api-Key"},fieldMask:{header:"X-Goog-FieldMask"},xgafv:{query:"$.xgavf",default:1,enum:[1,2]},alt:{query:"alt",enum:["json","media","proto"]},key:{query:"key"},prettyPrint:{query:"prettyPrint",default:!0,enum:[!0,!1]},retryExpiredCredentials:{default:!1,enum:[!0,!1]}},xssi:{json:")]}'"},implementation:Ii}];mosaic.Client.DefaultServiceProvider.registerClients($e);

exports.DefaultProjectRegistry = ct;
exports.GoogleCookie = ln;
exports.MobileServices = P;
exports.OAuth = Je;
exports.ProjectRegistry = gn;
